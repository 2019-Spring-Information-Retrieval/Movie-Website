(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),c=a(26),s=a(6),o=a(7),u=a(9),m=a(8),h=a(10),p=a(24),g=(a(87),a(88),a(77)),d=a(135),f=a(136),v=a(72),b=a(73),E=a(31),y=a(141),j=a(139),O=a(137),k=a(138),C=["Action","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Musical","Mystery","Romance","Sci-Fi","Short","Sport","Superhero","Thriller","War","Western"],N=a(69),P=a.n(N),w=a(70),x=a.n(w),M=a(71),S=a.n(M),T=a(134);a(103);function R(e){return"".concat(e.Title)}function L(e,t){var a=t.query,n="".concat(e.Title),l=x()(n,a),i=S()(n,l);return r.a.createElement("span",null,r.a.createElement(T.a,{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},style:{width:48,height:48},src:e.Poster,fluid:!0}),r.a.createElement("span",{className:"name"},i.map(function(e,t){var a=e.highlight?"highlight":null;return r.a.createElement("span",{className:a,key:t},e.text)})))}var W=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).onChange=function(t,a){var n=a.newValue;a.method;e.setState({value:n})},e.onSuggestionsFetchRequested=function(t){var a=t.value;t.reason;console.log("value is: "+e.state.value),function(e,t){var a="https://gdjactscaf.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?",n=t.title,r=t.query,l=t.number,i=t.genre,c=t.start,s=t.end;return a="find_one"===e?a+"type="+e+"&title="+n:"find_many"===e?a+"type="+e+"&query="+r+"&number="+l:a+"type="+e+"&genre="+i+"&start="+c+"&end="+s,fetch(a).then(function(e){return e.json()}).then(function(e){return e},function(e){alert(e)})}("find_many",{query:a,number:5}).then(function(e){return JSON.parse(JSON.parse(e.movie))}).then(function(t){e.setState({suggestions:e.getSuggestions(t)})})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={value:"",suggestions:[]},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getSuggestions",value:function(e){return e.filter(function(e){return R(e)})}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Input movie name...",value:t,onChange:this.onChange};return r.a.createElement(P.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:R,renderSuggestion:L,inputProps:n})}}]),t}(r.a.Component),A=function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e,a))).handleChange=n.handleChange.bind(Object(p.a)(Object(p.a)(n))),n.state={value:""},n}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value.toLowerCase().trim()})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.style,n=e["aria-labelledby"],l=this.state.value;return r.a.createElement("div",{style:a,"aria-labelledby":n},r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,{className:"mx-3 my-2 w-auto align-self-center",placeholder:"Type to filter...",onChange:this.handleChange,value:l})),r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(0,6).filter(function(e){return!l||e.props.children.toLowerCase().startsWith(l)}))),r.a.createElement(b.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(6,12).filter(function(e){return!l||e.props.children.toLowerCase().startsWith(l)}))),r.a.createElement(b.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(12,18).filter(function(e){return!l||e.props.children.toLowerCase().startsWith(l)}))),r.a.createElement(b.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(18,24).filter(function(e){return!l||e.props.children.toLowerCase().startsWith(l)}))))))}}]),t}(r.a.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a.Menu,{as:A},C.map(function(t,a){return r.a.createElement(E.a.Item,{key:t,eventKey:t,as:c.b,onClick:function(){return e.props.onClick()},to:"/Movie-Website/"+t},t)}))}}]),t}(r.a.Component),I=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{active:!!this.props.isActive,className:"nav-link",as:c.b,to:this.props.path,onClick:function(){return e.props.onClick()}},this.props.text))}}]),t}(r.a.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={links:[{path:"/Movie-Website/",text:"Home",isActive:!0},{path:"/Movie-Website/Recommend",text:"Recommend",isActive:!1},{path:"/Movie-Website/Top",text:"Top Rated",isActive:!1},{path:"/Movie-Website/Popular",text:"Popular",isActive:!1}]},a.handleClick=a.handleClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){var t=this.state.links.slice();for(var a in t)t[a].isActive=e==a;this.setState({links:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixed:"top"},r.a.createElement(j.a.Brand,{as:c.b,to:"/Movie-Website/"},"SayYourMovie"),r.a.createElement(j.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(j.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(y.a,{fill:!0,className:"mr-auto",style:{width:"50%"}},this.state.links.map(function(t,a){return r.a.createElement(I,{inline:!0,key:t.text,path:t.path,text:t.text,isActive:t.isActive,onClick:function(){return e.handleClick(a)}})}),r.a.createElement(y.a.Item,null,r.a.createElement(O.a,{title:"Genre",className:"dropdown full-width",id:"dropdown-menu"},r.a.createElement(q,{onClick:function(){return e.handleClick(-1)}})))),r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(k.a,{inline:!0},r.a.createElement(W,null),r.a.createElement(g.a,{type:"submit",variant:"outline-info"},"Go"))),r.a.createElement(y.a,null,r.a.createElement(j.a.Text,null,"Hi"),r.a.createElement(y.a.Link,{className:"nav-link text-white",href:"#"},"Signin / Signup")))))}}]),t}(r.a.Component),_=a(30),F=a(140),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{interval:3e3,className:"PopSliderCarousel"},r.a.createElement(F.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto",maxWidth:"100%",maxHeight:"50%",display:"block"},src:"https://ws3.sinaimg.cn/large/006tKfTcly1g1bzxnru3zj30vo0akta0.jpg",alt:"First slide"}),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"How to Train Your Dragon"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(F.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto",maxWidth:"100%",display:"block"},src:"https://ws4.sinaimg.cn/large/006tKfTcly1g1c01564jsj30vo0akwky.jpg",alt:"Third slide"}),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"Captain Marvel"),r.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur."))),r.a.createElement(F.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto"},src:"https://ws1.sinaimg.cn/large/006tKfTcly1g1c03v221yj30vo0aktcq.jpg",alt:"Third slide"}),r.a.createElement(F.a.Caption,null,r.a.createElement("h3",null,"Shazam"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))))}}]),t}(r.a.Component),B=(a(130),a(142)),J=(a(131),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{md:2},r.a.createElement("figure",{className:"figure"},r.a.createElement("img",{src:"https://tupian.tupianzy.com/pic/upload/vod/2019-01-16/201901161547644844.jpg",className:"figure-img img-fluid rounded",alt:"..."}),r.a.createElement("figcaption",{className:"figure-caption text-right"},"Spider Man")))}}]),t}(r.a.Component)),z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(J,null),r.a.createElement(J,null),r.a.createElement(J,null),r.a.createElement(J,null),r.a.createElement(J,null),r.a.createElement(J,null))}}]),t}(r.a.Component),K=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(F.a,{indicators:!1,interval:999999},r.a.createElement(F.a.Item,null,r.a.createElement(z,null)),r.a.createElement(F.a.Item,null,r.a.createElement(z,null)))}}]),t}(r.a.Component),G=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,null,r.a.createElement(B.a.Header,{className:"shadow-lg bg-light"},r.a.createElement(j.a.Brand,{as:c.b,to:"/Movie-Website/"+this.props.series},r.a.createElement("h2",{className:"text-dark py-2 pr-4 m-0 display-4 font-weight-bold"},this.props.series+" Movies"))),r.a.createElement(B.a.Body,null,r.a.createElement(K,null)))}}]),t}(r.a.Component),U=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(f.a,{key:"Recommend Movies",className:"shadow-lg",style:{marginTop:10}},r.a.createElement(G,{series:"Recommend"})),r.a.createElement(f.a,{key:"Top Rated Movies",className:"shadow-lg",style:{marginTop:10}},r.a.createElement(G,{series:"Top"})),r.a.createElement(f.a,{key:"Most Popular Movies",className:"shadow-lg",style:{marginTop:10}},r.a.createElement(G,{series:"Popular"})))}}]),t}(r.a.Component),V=a(32),Y="LEFT",Q="RIGHT",X=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},Z=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),l={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},function(){return n(l)})},a.handleClick=function(e,t){t.preventDefault(),a.gotoPage(e)},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var l=[],i=t-n,c=t+n,s=e-1,o=i>2?i:2,u=c<s?c:s,m=r-(l=X(o,u)).length-1,h=o>2,p=u<s,g=Y,d=Q;if(h&&!p){var f=X(o-m,o-1);l=[g].concat(Object(V.a)(f),Object(V.a)(l))}else if(!h&&p){var v=X(u+1,u+m);l=[].concat(Object(V.a)(l),Object(V.a)(v),[d])}else h&&p&&(l=[g].concat(Object(V.a)(l),[d]));return[1].concat(Object(V.a)(l),[e])}return X(1,e)};var n=e.totalRecords,r=void 0===n?null:n,l=e.pageLimit,i=void 0===l?30:l,c=e.pageNeighbours,o=void 0===c?0:c;return a.pageLimit="number"===typeof i?i:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof o?Math.max(0,Math.min(o,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.totalRecords;t!==e.totalRecords&&(this.totalRecords=t,this.totalPages=Math.ceil(this.totalRecords/this.pageLimit),this.setState({currentPage:1}))}},{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},a.map(function(a,n){return a===Y?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):a===Q?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"page-item".concat(t===a?" active":"")},r.a.createElement("a",{className:"page-link",href:"#",onClick:function(t){return e.handleClick(a,t)}},a))}))))}}]),t}(n.Component),$=(a(132),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={error:null,isLoaded:!1,items:[]},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"auto"}},r.a.createElement(H,null)),r.a.createElement(d.a,{style:{marginTop:20}},r.a.createElement(U,null)))}}]),t}(r.a.Component)),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onPageChanged=function(e){var t=e.currentPage,n=e.totalPages,r=(t-1)*e.pageLimit;ae("find_from_to",{genre:a.props.match.params.type,start:r,end:24}).then(function(e){return JSON.parse(JSON.parse(e.movie))}).then(function(e){a.setState({currentMovies:e})}),a.setState({currentPage:t,totalPages:n})},a.state={currentMovies:[],currentPage:null,totalPages:null,count:-1},console.log("I am here: "+a.state.count),a.onPageChanged=a.onPageChanged.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.type;a!==e.match.params.type&&(console.log(),ae("find_from_to",{genre:a,start:0,end:24}).then(function(e){var a=Math.ceil(e.count/t.props.pageLimit);t.setState({count:e.count,totalPages:a,currentPage:1,currentMovies:JSON.parse(JSON.parse(e.movie))})}))}},{key:"componentDidMount",value:function(){var e=this;ae("find_from_to",{genre:this.props.match.params.type,start:0,end:1}).then(function(t){e.setState({count:t.count})})}},{key:"render",value:function(){if(console.log("count: "+this.state.count),-1===this.state.count)return null;var e=["text-dark py-2 pr-4 m-0",this.state.currentPage?"border-gray border-right":""].join(" ").trim();return r.a.createElement("div",{className:"container mb-7"},r.a.createElement("div",{className:"row d-flex flex-row py-5"},r.a.createElement("div",{className:"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("h2",{className:e},r.a.createElement("strong",{className:"text-info"},this.state.count)," ",r.a.createElement("strong",{className:"text-secondary"},"Movies")),this.state.currentPage&&r.a.createElement("span",{className:"current-page d-inline-block h-100 pl-4 text-secondary"},"Page ",r.a.createElement("span",{className:"font-weight-bold text-info"},this.state.currentPage)," /"," ",r.a.createElement("span",{className:"font-weight-bold"},this.state.totalPages))),r.a.createElement("div",{className:"d-flex flex-row py-4 align-items-center"},r.a.createElement(Z,{totalRecords:this.state.count,pageLimit:this.props.pageLimit,pageNeighbours:5,onPageChanged:this.onPageChanged})),r.a.createElement(d.a,null,r.a.createElement(B.a,null,r.a.createElement(B.a.Header,{className:"shadow-lg bg-light"},r.a.createElement(j.a.Brand,null,r.a.createElement("h2",{className:"text-dark py-2 pr-4 m-0 display-4 font-weight-bold"},this.props.match.params.type+" Movies"))),r.a.createElement(B.a.Body,null,r.a.createElement(f.a,null,this.state.currentMovies.map(function(e,t){return r.a.createElement(b.a,{key:"movie-row"+t,style:{marginTop:10},xs:6,md:3},r.a.createElement(B.a,{className:"shadow-lg bg-light"},r.a.createElement(T.a,{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},variant:"top",style:{width:350,height:262},src:e.Poster,fluid:!0}),r.a.createElement(B.a.Body,null,r.a.createElement(B.a.Text,null,e.Title))))}))))))))}}]),t}(r.a.Component),te=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page1"))};function ae(e,t){var a="https://gdjactscaf.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?",n=t.title,r=t.genre,l=t.start,i=t.end;return a="find_one"===e?a+"type="+e+"&title="+n:a+"type="+e+"&genre="+r+"&start="+l+"&end="+i,fetch(a).then(function(e){return e.json()}).then(function(e){return e},function(e){alert(e)})}var ne=$,re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{style:{marginTop:50}},r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/Movie-Website/",component:ne}),r.a.createElement(_.a,{path:"/Movie-Website/Recommend",component:te}),r.a.createElement(_.a,{path:"/Movie-Website/Top",component:te}),r.a.createElement(_.a,{path:"/Movie-Website/Popular",component:te}),r.a.createElement(_.a,{path:"/Movie-Website/:type",render:function(e){return r.a.createElement(ee,Object.assign({pageLimit:24},e))}})))}}]),t}(r.a.Component),le=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement(re,null))}}]),t}(r.a.Component);i.a.render(r.a.createElement(c.a,null,r.a.createElement(le,null)),document.getElementById("root"))},82:function(e,t,a){e.exports=a(133)},88:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.858f50a4.chunk.js.map