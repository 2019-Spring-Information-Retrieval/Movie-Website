{"version":3,"sources":["components/js/Constants.js","components/js/Search.js","components/js/LoaderButton.js","components/js/CountDownButton.js","components/js/LogSignModal.js","components/js/Header.js","components/js/PopSlider.js","components/js/RecContainer.js","components/js/Pagination.js","components/js/Pages.js","components/js/Main.js","App.js","config.js","index.js"],"names":["GENRE","getSuggestionValue","suggestion","concat","Title","renderSuggestion","_ref","query","suggestionText","matches","AutosuggestHighlightMatch","parts","AutosuggestHighlightParse","react_default","a","createElement","className","react_router_dom","to","pathname","process","state","movieInfo","Image","onError","e","target","onerror","src","style","width","height","Poster","fluid","map","part","index","highlight","key","text","Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onSuggestionSelected","event","_ref2","method","suggestionValue","suggestionIndex","sectionIndex","setState","selectedMovie","history","push","onKeyDown","preventDefault","onChange","_ref3","newValue","value","onSuggestionsFetchRequested","_ref4","reason","type","context","url","title","number","genre","start","end","fetch","then","res","json","result","error","alert","getMoviesFromMongoDB","str","trim","replace","escapeRegexCharacters","response","JSON","parse","movie","data","suggestions","getSuggestions","onSuggestionsClearRequested","bind","assertThisInitialized","handleGo","filter","_this$state","inputProps","placeholder","ButtonStyle","styled","Button","_templateObject","Fragment","dist_default","highlightFirstSuggestion","variant","onClick","React","Component","js_LoaderButton","isLoading","loadingText","_ref$className","objectWithoutProperties","assign","Spinner","as","animation","size","role","aria-hidden","CountDownButton","disabled","isSending","seconds","LogModal","isSignup","Container","maxWidth","newUser","Form","onSubmit","onSignupSubmit","Group","controlId","Label","Control","autoFocus","email","nickname","password","confirmPassword","onConfirmationSubmit","InputGroup","confirmationCode","Append","CountDownButton_CountDownButton","onResend","Text","isForgetPassword","onResetPassword","onSendForgetCode","resetPassword","signin","CustomMenu","handleChange","toLowerCase","_this$props","children","labeledBy","aria-labelledby","Row","FormControl","Col","Children","toArray","slice","child","startsWith","CustomItems","_this2","Dropdown","Menu","i","Item","eventKey","Link","NavLink","_this3","Nav","active","isActive","path","Header","_this4","links","location","handleClick","console","log","j","length","_this5","LinkStyle","Header_templateObject","_templateObject2","Navbar","collapseOnSelect","expand","bg","fixed","Brand","Toggle","aria-controls","Collapse","id","fill","link","Header_NavLink","inline","NavDropdown","Header_CustomItems","js_Search","isAuthenticated","alignRight","index_esm","Divider","md","onLogout","onShow","Modal","show","onHide","onClose","closeButton","signTitle","Body","Alert","alertType","alertShow","onCloseAlert","dismissible","alertMessage","LogSignModal","offset","handleSign","color","signStatement","handleForget","withRouter","titles","PopSlider","movies","keys","forEach","Carousel","interval","maxHeight","display","alt","CardSliderCol","MaxP","figcaption","RecContainer_templateObject","CardSliderRow","item","RecContainer_CardSliderCol","CardSlider","indicators","RecContainer_CardSliderRow","RecMovieCard","Card","border","series","RecContainer_CardSlider","RecContainer","getTopMovies","marginTop","RecContainer_RecMovieCard","LEFT_PAGE","RIGHT_PAGE","range","from","step","arguments","undefined","Pagination","gotoPage","page","_this$props$onPageCha","onPageChanged","f","currentPage","Math","max","min","totalPages","paginationData","pageLimit","totalRecords","evt","handleMoveLeft","pageNeighbours","handleMoveRight","fetchPageNumbers","totalNumbers","pages","leftBound","rightBound","beforeLastPage","startPage","endPage","singleSpillOffset","leftSpill","rightSpill","leftSpillPage","rightSpillPage","extraPages","toConsumableArray","_props$totalRecords","_props$pageLimit","_props$pageNeighbours","ceil","prevProps","record","react","aria-label","href","Home","isLoaded","items","js_PopSlider","js_RecContainer","UserList","sessionStorage","getItem","didMount","getUserList","match","params","count","currentMovies","headerClass","join","TitleStyle","Pages_templateObject","CardStyle","Pages_templateObject2","js_Pagination","xs","GenrePage","_this6","_this7","_templateObject3","_templateObject4","MoviePage","_this8","isFavorite","isWatchlist","rating","handleFavorite","handleWatchlist","changeRating","cancelRated","_this9","getImages","imdbID","poster","backdrop","catch","exist","rate","_this10","getRate","newRating","_this11","_this12","_this13","addToUserList","_this14","_this15","JumbotronStyle","Jumbotron","_templateObject5","BtnSMMinus","_templateObject6","BtnXlFavorite","_templateObject7","BtnXLWatchlist","_templateObject8","mx","my","Year","Genre","OverlayTrigger","placement","overlay","Tooltip","pointerEvents","build_default","starRatedColor","numberOfStars","starDimension","imdbRating","imdbVotes","Runtime","Language","Plot","Actors","Director","p","_templateObject9","TopMovie","order","Pages_MaxP","TopRated","_this16","_this17","SearchPage","_this18","resultState","opts","_this19","body","stringify","rows","Page1","num","imdbId","movie_results","poster_path","backdrop_path","Main","react_router","exact","component","render","Pages_MoviePage","Pages_GenrePage","Pages_UserList","App","currentEmail","isAuthenticating","handleSendForgetCode","countDown","handleResetPassword","handleCloseAlert","handleShow","handleClose","handleSubmit","handleLogout","handleResend","handleSignupSubmit","handleConfirmationSubmit","Auth","currentSession","currentAuthenticatedUser","bypassCache","user","setItem","attributes","err","_context","t0","setTimeout","defineProperty","resendSignUp","message","signOut","validateSignupForm","signUp","username","_context5","name","validateConfirmationForm","confirmSignUp","signIn","_context6","forgotPassword","_context7","forgotPasswordSubmit","_context8","validateSigninForm","_context9","js_Header","js_Main","config","REGION","BUCKET","URL","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","Amplify","configure","mandatorySignIn","userPoolId","userPoolWebClientId","Storage","region","bucket","identityPoolId","API","endpoints","endpoint","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f99cc2c6.chunk.js","sourcesContent":["const GENRE = [\n\t\t\t\t\t\t\"Action\",\n\t\t\t\t\t\t\"Adventure\",\n\t\t\t\t\t\t\"Animation\",\n\t\t\t\t\t\t\"Biography\",\n\t\t\t\t\t\t\"Comedy\",\n\t\t\t\t\t\t\"Crime\",\n\t\t\t\t\t\t\"Documentary\",\n\t\t\t\t\t\t\"Drama\",\n\t\t\t\t\t\t\"Family\",\n\t\t\t\t\t\t\"Fantasy\",\n\t\t\t\t\t\t\"History\",\t\n\t\t\t\t\t\t\"Horror\",\n\t\t\t\t\t\t\"Music\",\n\t\t\t\t\t\t\"Musical\",\n\t\t\t\t\t\t\"Mystery\",\n\t\t\t\t\t\t\"Romance\",\n\t\t\t\t\t\t\"Sci-Fi\",\n\t\t\t\t\t\t\"Short\",\n\t\t\t\t\t\t\"Sport\",\n\t\t\t\t\t\t\"Superhero\",\n\t\t\t\t\t\t\"Thriller\",\n\t\t\t\t\t\t\"War\",\n\t\t\t\t\t\t\"Western\"];\n\n\nconst ErrorImageSrc = \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\";\n\nconst BackgroundImg = \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lpv7xz5hj31hc0u047b.jpg\";\n\nexport {GENRE, ErrorImageSrc, BackgroundImg}","import React from 'react';\n// import Suggestions from \"./Suggestions\";\nimport Autosuggest from 'react-autosuggest';\nimport AutosuggestHighlightMatch from 'autosuggest-highlight/match';\nimport AutosuggestHighlightParse from 'autosuggest-highlight/parse';\nimport { Image, Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport '../css/AutoSuggest.css';\n\nfunction getMoviesFromMongoDB(type, context) {\n  var url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?\";\n  const title = context.title;\n  const query = context.query;\n  const number = context.number;\n  const genre = context.genre;\n  const start = context.start;\n  const end = context.end;\n\n  if (type === \"find_one\") {\n    url = url + \"type=\" + type + \"&title=\" + title;\n  }\n  else if (type === \"find_many\") {\n    url = url + \"type=\" + type + \"&query=\" + query + \"&number=\" + number;\n  }\n  else {\n    url = url + \"type=\" + type + \"&genre=\" + genre + \"&start=\" + start + \"&end=\" + end;\n  }\n\n  \n\n  return fetch(url)\n        .then(res => res.json())\n        .then(\n          (result) => {\n            // console.log(result);\n            return result;\n          },\n          // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          (error) => {\n            alert(error);\n          }\n         );\n}\n\nfunction escapeRegexCharacters(str) {\n  var res = str.trim();\n  res = res.replace(/[.*+?^${}()|[\\]\\\\]/g, '');\n  return res;\n}\n\n\nfunction getSuggestionValue(suggestion) {\n  return `${suggestion.Title}`;\n}\n\nfunction renderSuggestion(suggestion, { query }) {\n  const suggestionText = `${suggestion.Title}`;\n  const matches = AutosuggestHighlightMatch(suggestionText, query);\n  const parts = AutosuggestHighlightParse(suggestionText, matches);\n  // console.log(suggestion);\n  return (\n    \n    <span className={'suggestion-content'}>\n      <Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + suggestion.Title, state: {movieInfo: suggestion} }}>\n      <Image  \n        onError={(e)=>{e.target.onerror = null; e.target.src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\"}}\n        // variant=\"top\" \n        style={{width: 48, height: 48}} \n        src={suggestion.Poster}  fluid/>\n      </Link>\n      <Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + suggestion.Title, state: {movieInfo: suggestion} }}>\n      <span className=\"name\">\n        {\n          parts.map((part, index) => {\n            const className = part.highlight ? 'highlight' : null;\n\n            return (\n              <span className={className} key={index}>{part.text}</span>\n            );\n          })\n        }\n      </span>\n      </Link>\n    </span>\n  );\n}\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: '',\n      suggestions: [],\n      selectedMovie: '',\n    };    \n\n    this.onChange = this.onChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.handleGo = this.handleGo.bind(this);\n  }\n\n  getSuggestions(data) {\n    return data.filter(movie => getSuggestionValue(movie));\n  }\n\n  // componentDidMount() {\n  //   this.setState({people: peopleConst});\n  // }\n\n  handleGo() {\n    // console.log(\"clicked\");\n    const suggestion = this.state.selectedMovie;\n    if (suggestion === '') {\n      return;\n    }\n    this.props.history.push(process.env.PUBLIC_URL + '/movie-page/' + suggestion.Title, {movieInfo: suggestion});\n  }\n\n  onSuggestionSelected = (event, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\n    this.setState({selectedMovie: suggestion});\n    if (method === 'enter') {\n      // console.log(suggestion);\n      this.props.history.push(process.env.PUBLIC_URL + '/movie-page/' + suggestion.Title, {movieInfo: suggestion});\n      \n    }\n  }\n\n  onKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n    }\n  }\n\n  onChange = (event, { newValue, method }) => {\n    // getMoviesFromMongoDB(\"find_many\", {\"query\": newValue, \"number\": 5})\n    //   .then(response => JSON.parse(JSON.parse(response.movie)))\n    //   .then(data => {this.setState({people: data}); this.setState({ value: newValue });});\n    if (newValue === '') {\n      this.setState({selectedMovie: ''});\n    }\n    this.setState({ value: newValue });\n  };\n\n  \n  onSuggestionsFetchRequested = ({ value, reason }) => {\n    // console.log(\"value is: \" + this.state.value);\n    value = escapeRegexCharacters(value);\n    \n    getMoviesFromMongoDB(\"find_many\", {\"query\": value, \"number\": 5})\n      .then(response => JSON.parse(JSON.parse(response.movie)))\n      .then(data => {this.setState({suggestions: this.getSuggestions(data)});});\n    // this.setState({\n    //   suggestions: this.getSuggestions(value)\n    // });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  \n\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"Type movie name...\",\n      value,\n      // type: 'search',\n      onChange: this.onChange,\n      onKeyDown: this.onKeyDown,\n    };\n    const ButtonStyle = styled(Button)`\n      margin-left: 5px;\n      height:30px;\n      vertical-align:center; \n      line-height : 100%;  \n    `;\n    return (\n      <React.Fragment>\n        <Autosuggest \n          suggestions={suggestions}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n          onSuggestionSelected={this.onSuggestionSelected}\n          getSuggestionValue={getSuggestionValue}\n          renderSuggestion={renderSuggestion}\n          inputProps={inputProps}\n          highlightFirstSuggestion={true} />\n        <ButtonStyle variant=\"outline-info\" onClick={this.handleGo}> Go </ButtonStyle>\n      </React.Fragment>\n    );\n  }\n}\n\n\nexport default Search\n\n//<Link to={\"/Movie-Website/movie-page/\"}>  \n//        <Button variant=\"outline-info\" onClick={this.handleClick}>Go</Button>\n//        </Link>\n","import React from \"react\";\nimport { Button, Spinner } from \"react-bootstrap\";\nimport \"../css/LoaderButton.css\";\n\nexport default ({\n  variant,\n  isLoading,\n  text,\n  loadingText,\n  className = \"\",\n  // disabled = false,\n  ...props\n}) =>\n  <Button\n    variant= {variant}\n    className={`LoaderButton ${className}`}\n    {...props}\n  >\n    {isLoading && <Spinner\n                  as=\"span\"\n                  animation=\"border\"\n                  size=\"sm\"\n                  role=\"status\"\n                  aria-hidden=\"true\"\n                />}\n    {!isLoading ? text : loadingText}\n  </Button>;\n\n//&& <Glyphicon glyph=\"refresh\" className=\"spinning\" />","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport \"../css/LoaderButton.css\";\n\nexport default class CountDownButton extends React.Component {\n\n  render() {\n    return (\n      <Button\n        variant = {this.props.variant}\n        disabled = {this.props.isSending}\n        onClick = {this.props.onClick}\n      >\n      {\n        !this.props.isSending\n        ? \n        this.props.text\n        :\n        this.props.loadingText + \"(\" + this.props.seconds + \")\"\n      }\n      </Button>\n    );\n  }\n\n\n\n  ;\n}\n\n//&& <Glyphicon glyph=\"refresh\" className=\"spinning\" />\n\n// {isLoading && <Spinner\n//                   as=\"span\"\n//                   animation=\"border\"\n//                   size=\"sm\"\n//                   role=\"status\"\n//                   aria-hidden=\"true\"\n//                 />}\n//     {!isLoading ? text : loadingText}","import React from 'react';\nimport { Form, InputGroup, Container } from 'react-bootstrap';\nimport LoaderButton from \"./LoaderButton.js\";\nimport CountDownButton from \"./CountDownButton.js\";\n\nfunction signin(props) {\n  return(\n    <Container style={{\"maxWidth\": 320}}>\n      <Form onSubmit={props.onSubmit} >\n        <Form.Group controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control \n          autoFocus\n          type=\"email\"\n          value={props.email}\n          onChange={props.onChange}/>\n        </Form.Group>\n        <Form.Group controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control \n            value={props.password}\n            onChange={props.onChange}\n            type=\"password\"/>\n        </Form.Group>\n        <div className=\"text-center\">\n          <LoaderButton \n          variant=\"outline-info\" \n          type=\"submit\"\n          text=\"Login\"\n          loadingText=\"Logging in\"\n          isLoading={props.isLoading}\n          />\n        </div>\n      </Form>\n    </Container>\n  );\n}\n\nfunction signup(props) {\n  return(\n    <Container style={{\"maxWidth\": 320}}>\n      {\n        props.newUser === null ?\n        <Form onSubmit={props.onSignupSubmit}>\n          <Form.Group controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control \n            autoFocus\n            type=\"email\"\n            value={props.email}\n            onChange={props.onChange}/>\n          </Form.Group>\n          <Form.Group controlId=\"nickname\">\n            <Form.Label>Nickname</Form.Label>\n            <Form.Control \n              value={props.nickname}\n              onChange={props.onChange}\n              type=\"text\"/>\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control \n              value={props.password}\n              onChange={props.onChange}\n              type=\"password\"/>\n          </Form.Group>\n          <Form.Group controlId=\"confirmPassword\">\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control \n              value={props.confirmPassword}\n              onChange={props.onChange}\n              type=\"password\"/>\n          </Form.Group>\n          <div className=\"text-center\">\n            <LoaderButton \n            variant=\"outline-info\" \n            type=\"submit\"\n            text=\"Signup\"\n            loadingText=\"Signing up\"\n            isLoading={props.isLoading}\n            />\n          </div>\n        </Form>\n        :\n        <Form onSubmit={props.onConfirmationSubmit}>\n          <Form.Label>{props.email}</Form.Label>\n          <Form.Group controlId=\"confirmationCode\">\n            <Form.Label>Confirmation Code</Form.Label>\n             <InputGroup className=\"mb-3\">\n              <Form.Control\n                autoFocus\n                type=\"password\"\n                value={props.confirmationCode}\n                onChange={props.onChange}\n              />\n              <InputGroup.Append>\n                <CountDownButton\n                  variant=\"outline-secondary\" \n                  text=\"Send Code\"\n                  onClick={props.onResend}\n                  loadingText=\"Sending\"\n                  isSending={props.isSending}\n                  seconds={props.seconds}\n                />\n                \n              </InputGroup.Append>\n            </InputGroup>\n            <Form.Text className=\"text-muted\">\n              Please check your email for the code.\n            </Form.Text>\n          </Form.Group>\n          <div className=\"text-center\">\n            <LoaderButton \n            variant=\"outline-info\" \n            type=\"submit\"\n            text=\"Verify\"\n            loadingText=\"Verifying\"\n            isLoading={props.isLoading}\n            />\n          </div>\n        </Form>\n      }\n    </Container>\n  );\n}\n\nfunction resetPassword(props) {\n  return(\n    <Container style={{\"maxWidth\": 320}}>\n      <Form onSubmit={props.onResetPassword}>\n        <Form.Group controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <InputGroup className=\"mb-3\">\n          <Form.Control \n          autoFocus\n          type=\"email\"\n          value={props.email}\n          onChange={props.onChange}/>\n          <InputGroup.Append>\n\n            <CountDownButton\n            variant=\"outline-secondary\" \n            text=\"Send Code\"\n            onClick={props.onSendForgetCode}\n            loadingText=\"Sending\"\n            isSending={props.isSending}\n            seconds={props.seconds}\n            />\n\n          </InputGroup.Append>\n          </InputGroup>\n        </Form.Group>\n        <Form.Group controlId=\"password\">\n          <Form.Label>New Password</Form.Label>\n          <Form.Control \n            value={props.password}\n            onChange={props.onChange}\n            type=\"password\"/>\n        </Form.Group>\n        <Form.Group controlId=\"confirmationCode\">\n          <Form.Label>Confirmation Code</Form.Label>\n           \n            <Form.Control\n              autoFocus\n              type=\"password\"\n              value={props.confirmationCode}\n              onChange={props.onChange}\n            />\n            \n          \n          <Form.Text className=\"text-muted\">\n            Please check your email for the code.\n          </Form.Text>\n        </Form.Group>\n        <div className=\"text-center\">\n          <LoaderButton \n          variant=\"outline-info\" \n          type=\"submit\"\n          text=\"Reset\"\n          loadingText=\"Resetting\"\n          isLoading={props.isLoading}\n          />\n        </div>\n      </Form>\n    </Container>\n  );\n}\n\nclass LogModal extends React.Component {\n  render() {\n\n    return (\n      <>\n        {\n          this.props.isSignup ? \n          signup(this.props)\n          :\n          (\n            this.props.isForgetPassword ?\n            resetPassword(this.props)\n            :\n            signin(this.props)  \n          )\n          \n        }\n      </>\n    );\n  }\n}\n\nexport default LogModal","import React from 'react';\n// import {Link} from 'react-router-dom';\n// import Navigation from './Navigation'\nimport styled from 'styled-components';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport \"../css/Navigation.css\"\nimport { Link, withRouter } from 'react-router-dom';\n// Bootstrap\nimport { Alert, Navbar, Nav, Dropdown, NavDropdown, Container, Form, FormControl, Row, Col, Modal, Button} from 'react-bootstrap';\nimport {GENRE} from './Constants';\nimport Search from \"./Search\";\nimport LogModal from \"./LogSignModal\";\nimport { FaUser, FaCog, FaHeart, FaBookmark } from 'react-icons/fa';\n\n// function retrieveGenre(header, title, child, value) {\n// \tif (!value) {\n// \t\tif (child.props.children === header) return child;\n// \t\tif (!child.props.eventKey) return;\n// \t\tif (child.props.eventKey.startsWith(title)) return child;\n// \t}\n// \telse {\n// \t\tif (child.props.children.toLowerCase().startsWith(value)) {\n// \t\t\treturn child;\n// \t\t}\n// \t}\n// \treturn;\n// }\n\n\nclass CustomMenu extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = { value: '' };\n  }\n\n  handleChange(e) {\n    this.setState({ value: e.target.value.toLowerCase().trim() });\n  }\n\n  render() {\n    const {\n      children,\n      style,\n      'aria-labelledby': labeledBy,\n    } = this.props;\n\n    const { value } = this.state;\n\n    return (\n\t      <div style={style} aria-labelledby={labeledBy}>\n\t      \t<Container>\n\t      \t\t<Row>\n\t\t\t        <FormControl\n\t\t\t          className=\"mx-3 my-2 w-auto align-self-center\"\n\t\t\t          placeholder=\"Type to filter...\"\n\t\t\t          onChange={this.handleChange}\n\t\t\t          value={value}\n\t\t\t        />\n\t        \t</Row>\n\t        \n\t\t\t\t<Row>\n\t\t\t\t\t<Col>\n\t\t\t\t        <ul className=\"list-unstyled\">\n\t\t\t\t          {React.Children.toArray(children).slice(0, 6).filter(\n\t\t\t\t            child => !value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t          )}\n\t\t\t\t        </ul>\n\t\t\t\t    </Col>\n\t\t\t\t    <Col>\n\t\t\t\t        <ul className=\"list-unstyled\">\n\t\t\t\t          {React.Children.toArray(children).slice(6, 12).filter(\n\t\t\t\t            child => !value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t          )}\n\t\t\t\t        </ul>\n\t\t\t\t    </Col>\n\t\t\t\t    <Col>\n\t\t\t\t        <ul className=\"list-unstyled\">\n\t\t\t\t          {React.Children.toArray(children).slice(12, 18).filter(\n\t\t\t\t            child => !value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t          )}\n\t\t\t\t        </ul>\n\t\t\t\t    </Col>\n\t\t\t\t    <Col>\n\t\t\t\t        <ul className=\"list-unstyled\">\n\t\t\t\t          {React.Children.toArray(children).slice(18, 24).filter(\n\t\t\t\t            child => !value || child.props.children.toLowerCase().startsWith(value),\n\t\t\t\t          )}\n\t\t\t\t        </ul>\n\t\t\t\t    </Col>\n\t\t\t\t</Row>\n\t\t    </Container>\n\t      </div>\n\t    \n    );\n  }\n}\n\nclass CustomItems extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Dropdown.Menu as={CustomMenu}>\n\t\t\t\t{GENRE.map((type, i) => \n\t\t\t\t\t<Dropdown.Item \n\t\t\t\t\t\tkey={type}\n\t\t\t\t\t\teventKey={type}\n\t\t\t\t\t\tas={Link}\n\t\t\t\t\t\tonClick={() => this.props.onClick()}\n\t\t\t\t\t\tto={process.env.PUBLIC_URL + '/genre/' + type}\n\t\t\t\t\t>\n\t\t\t\t\t{type}\n\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t)}\n\t\t\t</Dropdown.Menu>\n\t\t);\n\t}\n}\n\nclass NavLink extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Nav.Item>\n                <Nav.Link\n                active={this.props.isActive ? true: false}\n                className=\"nav-link\" \n                as={Link}\n                disabled={this.props.disabled}\n                to={this.props.path}\n                onClick={() => this.props.onClick()}>\n                {this.props.text}\n                </Nav.Link>\n        \t</Nav.Item>\n\t\t);\n\t}\n}\n\n\n\n\nclass Header extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlinks: [\n\t\t\t\t{path: process.env.PUBLIC_URL + \"/\", text: \"Home\", isActive: this.props.location.pathname === process.env.PUBLIC_URL + \"/\"? true : false},\n\t\t\t\t{path: process.env.PUBLIC_URL + \"/Recommend\", text: \"Recommend\", disabled: true, isActive: this.props.location.pathname === process.env.PUBLIC_URL + \"/Recommend\"? true : false},\n\t\t\t\t{path: process.env.PUBLIC_URL + \"/Top\", text: \"Top\", isActive: this.props.location.pathname === process.env.PUBLIC_URL + \"/Top\"? true : false},\n\t\t\t\t{path: process.env.PUBLIC_URL + \"/Popular\", text: \"Popular\", disabled: true, isActive: this.props.location.pathname === process.env.PUBLIC_URL + \"/Popular\"? true : false},\n\t\t\t\t{path: process.env.PUBLIC_URL + \"/AdvancedSearch\", text: \"Find\", isActive: this.props.location.pathname === process.env.PUBLIC_URL + \"/AdvancedSearch\"? true : false},\n\t\t\t]\n\t\t}\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleGo = this.handleGo.bind(this);\n\t}\n\t\n\thandleGo() {\n\t\t\n\t    console.log(\"clicked2\");\n\t    // const suggestion = this.state.selectedMovie;\n\t    // if (suggestion === '') {\n\t    //   return;\n\t    // }\n\t    // this.props.history.push(process.env.PUBLIC_URL + '/movie-page/' + suggestion.Title, {movieInfo: suggestion});\n\t  \n\t}\n\n\thandleClick(i) {\n\t\tconst links = this.state.links.slice();\n\t\tfor (var j = 0; j < links.length; j++) {\n\t\t\tlinks[j].isActive = i === j;\n\t\t}\n\t\tthis.setState({links: links});\n\t}\n\n\n\trender() {\n\t\tconst LinkStyle = styled(Nav.Link)``;\n\t\tconst ButtonStyle = styled(Button)`\n\t      margin-left: 5px;\n\t      height:30px;\n\t      vertical-align:center; \n\t      line-height : 100%;  \n\t    `;\n\t\treturn(\n\t\t\t<div>\n\t\t\t    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" fixed=\"top\">\n\t\t\t\t  <Navbar.Brand as={Link} to={process.env.PUBLIC_URL + \"/\"}>SayYourMovie</Navbar.Brand>\n\t\t\t\t  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n\t\t\t\t  <Navbar.Collapse id=\"responsive-navbar-nav\">\n\t\t\t\t    <Nav fill className=\"mr-auto\" style={{width:\"50%\"}}>\n\t\t\t\t      {this.state.links.map((link, i) =>\n\t\t\t      \t\t<NavLink inline\n\t\t\t      \t\t\tkey={link.text}\n\t\t\t      \t\t\tpath={link.path}\n\t\t\t      \t\t\ttext={link.text}\n\t\t\t      \t\t\tisActive={link.isActive}\n\t\t\t      \t\t\tdisabled = {link.disabled}\n\t\t\t      \t\t\tonClick={() => this.handleClick(i)}\n\t\t\t      \t\t/>\n\t\t\t\t      )}\n\t\t\t          <Nav.Item>\n\t\t\t          \t<NavDropdown title=\"Genre\" className=\"dropdown full-width\" id=\"dropdown-menu\">\n\t\t\t\t\t\t    <CustomItems onClick={() => this.handleClick(-1)}/>\n\t\t\t\t      \t</NavDropdown>\n\t\t\t          </Nav.Item>\n\t\t\t        </Nav>\n\n\t\t\t        <Nav className=\"mr-auto\">\n\t\t\t        \t\n\t\t\t\t\t\t    <Search history={this.props.history}/>\n\t\t\t\t\t\t\n\t\t\t        </Nav>\n\n\t\t\t\t    <Nav>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.isAuthenticated ?\n\t\t\t\t\t\t\t<Dropdown alignRight>\n\t\t\t\t\t\t\t    <Dropdown.Toggle id=\"dropdown-custom-1\" variant=\"outline-light\"><FaUser /></Dropdown.Toggle>\n\t\t\t\t\t\t\t    <Dropdown.Menu className=\"super-colors\">\n\t\t\t\t\t\t\t  \t  <Dropdown.Header >Hi {this.props.nickname}</Dropdown.Header>\n\t\t\t\t\t\t\t      <Dropdown.Divider />\n\t\t\t\t\t\t\t      <Dropdown.Item \n\t\t\t\t\t\t\t\t\tas={Link}\n\t\t\t\t\t\t\t\t\tto={process.env.PUBLIC_URL + '/user/Favorite'}\n\t\t\t\t\t\t\t      >\n\t\t\t\t\t\t\t      \t<Row>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\t<FaHeart />\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\tFavorite\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t</Row>\n\t\t\t\t\t\t\t      </Dropdown.Item>\n\t\t\t\t\t\t\t      <Dropdown.Item \n\t\t\t\t\t\t\t      \tas={Link}\n\t\t\t\t\t\t\t\t\tto={process.env.PUBLIC_URL + '/user/Watchlist'}\n\t\t\t\t\t\t\t      >\n\t\t\t\t\t\t\t      \t<Row>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\t<FaBookmark />\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\tWatchlist\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t</Row>\n\t\t\t\t\t\t\t      </Dropdown.Item>\n\t\t\t\t\t\t\t      <Dropdown.Item >\n\t\t\t\t\t\t\t      \t<Row>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\t<FaCog />\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t\t<Col md={2}>\n\t\t\t\t\t\t\t      \t\t\tSetting\n\t\t\t\t\t\t\t      \t\t</Col>\n\t\t\t\t\t\t\t      \t</Row>\n\t\t\t\t\t\t\t      </Dropdown.Item>\n\t\t\t\t\t\t\t      <Dropdown.Divider />\n\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t      <Dropdown.Item eventKey=\"4\" as={Link} to={process.env.PUBLIC_URL + '/'} onClick={this.props.onLogout} >Logout</Dropdown.Item>\n\t\t\t\t\t\t\t      \n\t\t\t\t\t\t\t    </Dropdown.Menu>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t// <Nav.Link onClick={this.props.onLogout} className=\"nav-link text-white\">\n\t\t\t\t\t\t\t// \tLogout\n\t\t\t\t\t\t\t// </Nav.Link>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Nav.Link onClick={this.props.onShow} className=\"nav-link text-white\">\n\t\t\t\t\t\t\t\tSignin\n\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t}\t\n\t\t\t\t    </Nav>\n\t\t\t\t  </Navbar.Collapse>\n\t\t\t\t</Navbar>\n\n\t\t\t\t<Modal  show={this.props.show} onHide={this.props.onClose}>\n\t\t          <Modal.Header closeButton>\n\t\t            <Modal.Title>{this.props.signTitle}</Modal.Title>\n\t\t          </Modal.Header>\n\t\t          <Modal.Body>\n\t\t          \t<Alert className=\"text-center\" variant={this.props.alertType} show={this.props.alertShow} onClose={this.props.onCloseAlert} dismissible>\n\t\t\t          {this.props.alertMessage}\n\t\t\t        </Alert>\n\n\t\t          \t<LogModal  \n\t\t          \tnickname={this.props.nickname}\n\t\t          \temail={this.props.email}\n\t\t          \tpassword={this.props.password}\n\t\t          \tnewUser={this.props.newUser}\n\t\t\t\t\tconfirmPassword={this.props.confirmPassword}\n\t\t\t\t\tconfirmationCode={this.props.confirmationCode}\n\t\t\t\t\tonResend={this.props.onResend}\n\t\t          \tonChange={this.props.onChange}\n\t\t          \tonSubmit={this.props.onSubmit}\n\t\t          \tonSignupSubmit={this.props.onSignupSubmit}\n\t\t\t\t\tonConfirmationSubmit={this.props.onConfirmationSubmit}\n\t\t\t\t\tonSendForgetCode={this.props.onSendForgetCode}\n\t\t\t\t\tonResetPassword={this.props.onResetPassword}\n\t\t          \tisAuthenticated={this.props.isAuthenticated}\n\t\t          \tisSignup={this.props.isSignup}\n\t\t          \tisForgetPassword={this.props.isForgetPassword}\n\t\t          \tisLoading={this.props.isLoading}\n\t\t          \tisSending={this.props.isSending}\n\t\t          \tseconds={this.props.seconds} />\n\n\t\t          \t<Container fluid={true}>\n\t\t          \t\t\t{\n\t\t          \t\t\t\t!this.props.isSignup ?\n\t\t          \t\t\t\t(\t\n\t\t          \t\t\t\t\tthis.props.isForgetPassword ?\n\t\t          \t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t\t\t\t\t<LinkStyle style={{\"color\": \"#006699\"}} onClick={this.props.handleSign}>\n\t\t\t\t\t\t\t\t\t\t\t\t{\"Back\"}\n\t\t\t\t\t\t\t\t\t\t\t</LinkStyle>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t          \t\t\t\t\t:\n\t\t          \t\t\t\t\t<Row>\n\t\t\t          \t\t\t\t\t<Col md={7}>\n\t\t\t\t\t\t          \t\t\t<LinkStyle onClick={this.props.handleSign} style={{\"color\": \"#006699\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.props.signStatement}\n\t\t\t\t\t\t\t\t\t\t\t</LinkStyle>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t\t\t\t\t<LinkStyle style={{\"color\": \"#006699\"}} onClick={this.props.handleForget}>\n\t\t\t\t\t\t\t\t\t\t\t\t{\"Forget Password?\"}\n\t\t\t\t\t\t\t\t\t\t\t</LinkStyle>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\n\t\t          \t\t\t\t)\n\t\t          \t\t\t\t:\n\t\t          \t\t\t\t(\n\t\t          \t\t\t\t\t<Row>\n\t\t\t          \t\t\t\t\t<Col md={{ offset: 7 }}>\n\t\t\t\t\t\t          \t\t\t<LinkStyle onClick={this.props.handleSign} style={{\"color\": \"#006699\"}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.props.signStatement}\n\t\t\t\t\t\t\t\t\t\t\t</LinkStyle>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t          \t\t\t\t)\n\t\t          \t\t\t}\n\t\t\t\t\t</Container>\n\t\t          </Modal.Body>\n\t\t        </Modal>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Header)\n\n\n// <Nav.Item>\n// \t<span className=\"badge badge-pill badge-light\"> Hi </span> \n// </Nav.Item>","import React from 'react';\n\n// Bootstrap\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n// import styled from 'styled-components';\n\nconst titles = [\n\t\"How to Train Your Dragon: The Hidden World\",\n\t\"Captain Marvel\",\n\t\"Deadpool\"];\n\nclass PopSlider extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t}\n\t}\n\n\tshouldComponentUpdate() {\n\t\tif (Object.keys(this.state.movies).length === 3) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tcomponentDidMount() {\n\t\tvar url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?type=find_one&title=\";\n\t\tvar movies = {};\n\n\t\ttitles.forEach((title) => {\n\t\t  // Todo...\n\t\t  \t\n\t\t\tfetch(url + title)\n\t\t      .then(res => res.json())\n\t\t      .then(\n\t\t        (result) => {\n\t\t        \tmovies[title] = JSON.parse(result.movie);\n\t\t        },\n\t\t        // Note: it's important to handle errors here\n\t\t        // instead of a catch() block so that we don't swallow\n\t\t        // exceptions from actual bugs in components.\n\t\t        (error) => {\n\t\t          alert(error);\n\t\t        }\n\t\t    ).then(() =>\n\t\t    \t{this.setState({movies: movies});}\n\t\t    );\n\t\t});\n\t\t\n\t}\n\n\trender() {\n\t\tif (this.state.movies.length === 0) return null;\n\t\t\n\t\t// const H1 = styled.h1`\n\t\t// \tmargin: 1em 0 0.5em 0;\n\t\t// \tcolor: #343434;\n\t\t// \tfont-weight: normal;\n\t\t// \tfont-family: 'Ultra', sans-serif;   \n\t\t// \tfont-size: 36px;\n\t\t// \tline-height: 42px;\n\t\t// \ttext-transform: uppercase;\n\t\t// \ttext-shadow: 0 2px white, 0 3px #777;\n\t\t// `;\n\t\treturn (\n\t\t\t<Carousel interval={3000} className=\"PopSliderCarousel\">\n\t\t\t  <Carousel.Item>\n\t\t\t  \t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + this.state.movies[titles[2]].Title, state: {movieInfo: this.state.movies[titles[2]]} }}>\n\t\t\t    <img\n\t\t\t      style={{width: \"100%\", height: \"420px\", maxWidth: \"100%\", maxHeight: \"50%\", display: \"block\"}}\n\t\t\t      src=\"https://image.tmdb.org/t/p/original/n1y094tVDFATSzkTnFxoGZ1qNsG.jpg\"\n\t\t\t      alt=\"Third slide\"\n\t\t\t    />\n\t\t\t    </Link>\n\t\t\t  </Carousel.Item>\n\t\t\t  \n\t\t\t  <Carousel.Item>\n\t\t\t  \t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + this.state.movies[titles[1]].Title, state: {movieInfo: this.state.movies[titles[1]]} }}>\n\t\t\t    <img\n\t\t\t      style={{width: \"100%\", height: \"420px\", maxWidth: \"100%\", display: \"block\"}}\n\t\t\t      src=\"https://ws4.sinaimg.cn/large/006tKfTcly1g1c01564jsj30vo0akwky.jpg\"\n\t\t\t      alt=\"Second slide\"\n\t\t\t    />\n\t\t\t    </Link>\n\t\t\t  </Carousel.Item>\n\t\t\t  \n\t\t\t  <Carousel.Item>\n\t\t\t  \t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + this.state.movies[titles[0]].Title, state: {movieInfo: this.state.movies[titles[0]]} }}>\n\t\t\t    \t<img\n\t\t\t\t      style={{width: \"100%\", height: \"420px\", maxWidth: \"100%\", maxHeight: \"50%\", display: \"block\"}}\n\t\t\t\t      src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1bzxnru3zj30vo0akta0.jpg\"\n\t\t\t\t      alt=\"First slide\"\n\t\t\t\t    />\n\t\t\t    </Link>\n\t\t\t  </Carousel.Item>\n\t\t\t  \n\t\t\t  \n\t\t\t</Carousel>\n\t\t);\n\t}\n}\n\nexport default PopSlider;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport \"../css/LinkStyle.css\"\n// Bootstrap\nimport { Navbar, Container, Row, Col, Card, Carousel} from 'react-bootstrap';\nimport \"../css/Carousel.css\"\nimport {getTopMovies} from './Pages.js'\nimport styled from 'styled-components';\n\n\nclass CardSliderCol extends React.Component {\n\trender() {\n\t\tconst MaxP = styled.figcaption`\n\t\t\toverflow: hidden;\n\t\t\t  display: -webkit-box;\n\t\t\t  -webkit-line-clamp: 1;\n\t\t\t  -webkit-box-orient: vertical;\n\t\t`;\n\t\treturn (\n\t\t\t<Col>\n\t  \t\t\t<figure className=\"figure\">\n                    <Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + this.props.movie.Title, state: {movieInfo: this.props.movie} }}>\n\t\t\t\t\t\t<img onError={(e)=>{e.target.onerror = null; e.target.src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\"}} style={{width: 180, height: 200}}  src={this.props.movie.Poster}  alt=\"\" />\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + this.props.movie.Title, state: {movieInfo: this.props.movie} }}>\n                    \t<MaxP className=\"figure-caption text-right\">{this.props.movie.Title}</MaxP>\n                    </Link>\n                </figure>\n\t  \t\t</Col>\n\t\t);\n\t}\n}\n\nclass CardSliderRow extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t{this.props.movies.map((item, i) => \n\t\t\t\t\t<CardSliderCol key={item.Title} movie={item}/>\t\n\t\t\t\t)}\n\t\t  \t</Row>\n\t\t);\n\t}\n}\n\nclass CardSlider extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Carousel indicators={false} interval={999999}>\n\t\t\t  <Carousel.Item>\n\t\t\t  \t<CardSliderRow movies={this.props.movies.slice(0, 5)} />\n\t\t\t  </Carousel.Item>\n\t\t\t  <Carousel.Item>\n\t\t\t  \t<CardSliderRow movies={this.props.movies.slice(5, 10)}/>\n\t\t\t  </Carousel.Item>\n\t\t\t</Carousel>\n\t\t);\n\t}\n}\n\nclass RecMovieCard extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Card bg=\"dark\" border=\"info\">\n\t\t\t  <Card.Header className=\"shadow-lg\" >\n\t\t\t  \t<Navbar.Brand as={Link} to={process.env.PUBLIC_URL + \"/\" + this.props.series}>\n\t\t\t  \t\t<h2 className=\"text-white py-2 pr-4 m-0 display-4 font-weight-bold\">\n\t\t\t\t  \t\t{this.props.series + \" Movies\"}\n              \t\t</h2>\n                </Navbar.Brand>\n              </Card.Header>\n\t\t\t  <Card.Body>\n\t\t\t  \t<CardSlider movies={this.props.movies}/>\n\t\t\t  </Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nclass RecContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tgetTopMovies(10)\n\t\t.then(response => \n\t\t\t{\t\n\t\t\t\t// console.log(JSON.parse(JSON.parse(response.movie)));\n\t\t\t\tthis.setState({movies: JSON.parse(JSON.parse(response.movie))});\n\t\t\t}\n\t\t)\n\t}\n\trender() {\t\n\t\tif (this.state.movies.length === 0) return null;\t\t  \t\n\t\treturn (\n\t\t\t<Container>\n\t\t\t  <Row key={\"Top Rated Movies\"} className=\"shadow-lg\" style={{marginTop:10}}>\n\t\t\t  \t<RecMovieCard series=\"Top\" movies={this.state.movies}/>\n\t\t\t  </Row>\n\t        </Container>\n\t\t\t\n\t\t);\n\t}\t\n}\n\n// {genre.map((type) => \n// \t\t\t  \t<Row key={type} className=\"shadow-lg\" style={{marginTop:10}}>\n// \t\t\t\t  \t<RecMovieCard series={type} />\n// \t\t\t\t</Row>\n// \t\t\t  )}\n\n\n\nexport default RecContainer;","import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n    const { totalRecords = null, pageLimit = 30, pageNeighbours = 0 } = props;\n\n    this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n\n    this.pageNeighbours =\n      typeof pageNeighbours === \"number\"\n        ? Math.max(0, Math.min(pageNeighbours, 2))\n        : 0;\n\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n    this.state = { currentPage: 1 };\n  }\n\n  componentDidUpdate(prevProps) {\n    \n    const record = this.props.totalRecords;\n    const prevRecord = prevProps.totalRecords;\n\n    if (record !== prevRecord) {\n      this.totalRecords = record;\n      this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n      this.setState({currentPage: 1});\n    }\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  gotoPage = page => {\n    const { onPageChanged = f => f } = this.props;\n\n    const currentPage = Math.max(0, Math.min(page, this.totalPages));\n\n    const paginationData = {\n      currentPage,\n      totalPages: this.totalPages,\n      pageLimit: this.pageLimit,\n      totalRecords: this.totalRecords\n    };\n\n    this.setState({ currentPage }, () => onPageChanged(paginationData));\n  };\n\n  handleClick = (page, evt) => {\n    evt.preventDefault();\n    this.gotoPage(page);\n  };\n\n  handleMoveLeft = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage - this.pageNeighbours * 2 - 1);\n  };\n\n  handleMoveRight = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage + this.pageNeighbours * 2 + 1);\n  };\n\n  fetchPageNumbers = () => {\n    const totalPages = this.totalPages;\n    const currentPage = this.state.currentPage;\n    const pageNeighbours = this.pageNeighbours;\n\n    const totalNumbers = this.pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      let pages = [];\n\n      const leftBound = currentPage - pageNeighbours;\n      const rightBound = currentPage + pageNeighbours;\n      const beforeLastPage = totalPages - 1;\n\n      const startPage = leftBound > 2 ? leftBound : 2;\n      const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n\n      pages = range(startPage, endPage);\n\n      const pagesCount = pages.length;\n      const singleSpillOffset = totalNumbers - pagesCount - 1;\n\n      const leftSpill = startPage > 2;\n      const rightSpill = endPage < beforeLastPage;\n\n      const leftSpillPage = LEFT_PAGE;\n      const rightSpillPage = RIGHT_PAGE;\n\n      if (leftSpill && !rightSpill) {\n        const extraPages = range(startPage - singleSpillOffset, startPage - 1);\n        pages = [leftSpillPage, ...extraPages, ...pages];\n      } else if (!leftSpill && rightSpill) {\n        const extraPages = range(endPage + 1, endPage + singleSpillOffset);\n        pages = [...pages, ...extraPages, rightSpillPage];\n      } else if (leftSpill && rightSpill) {\n        pages = [leftSpillPage, ...pages, rightSpillPage];\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  };\n\n  render() {\n    if (!this.totalRecords) return null;\n\n    if (this.totalPages === 1) return null;\n\n    const { currentPage } = this.state;\n    const pages = this.fetchPageNumbers();\n\n    return (\n      <Fragment>\n        <nav aria-label=\"Countries Pagination\">\n          <ul className=\"pagination\">\n            {pages.map((page, index) => {\n              if (page === LEFT_PAGE)\n                return (\n                  <li key={index} className=\"page-item\">\n                    <a\n                      className=\"page-link\"\n                      href=\" \"\n                      aria-label=\"Previous\"\n                      onClick={this.handleMoveLeft}\n                    >\n                      <span aria-hidden=\"true\">&laquo;</span>\n                      <span className=\"sr-only\">Previous</span>\n                    </a>\n                  </li>\n                );\n\n              if (page === RIGHT_PAGE)\n                return (\n                  <li key={index} className=\"page-item\">\n                    <a\n                      className=\"page-link\"\n                      href=\" \"\n                      aria-label=\"Next\"\n                      onClick={this.handleMoveRight}\n                    >\n                      <span aria-hidden=\"true\">&raquo;</span>\n                      <span className=\"sr-only\">Next</span>\n                    </a>\n                  </li>\n                );\n\n              return (\n                <li\n                  key={index}\n                  className={`page-item${\n                    currentPage === page ? \" active\" : \"\"\n                  }`}\n                >\n                  <a\n                    className=\"page-link\"\n                    href=\" \"\n                    onClick={e => this.handleClick(page, e)}\n                  >\n                    {page}\n                  </a>\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Fragment>\n    );\n  }\n}\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\n\nexport default Pagination;\n","import React from 'react';\n\nimport PopSlider from './PopSlider';\nimport RecContainer from './RecContainer';\nimport Pagination from \"./Pagination\";\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n// import LoaderButton from \"./LoaderButton.js\";\n// Bootstrap\nimport {Container, Card, Row, Col, Navbar, Image, Jumbotron, Button, Form, OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport LoaderButton from \"./LoaderButton.js\";\nimport \"../css/Page2.css\";\nimport { FaHeart, FaBookmark, FaMinusCircle } from 'react-icons/fa';\nimport StarRatings from 'react-star-ratings';\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \terror: null,\n      \t\tisLoaded: false,\n      \t\titems: []\n\t    };\n\t  }\n\t  \n\trender() {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<div style={{ width:\"100%\", height:\"auto\" }}>\n\t\t\t\t\t<PopSlider />\n\t\t\t\t</div>\n\n\t\t\t\t<Container style={{marginTop:20}}>\n\t\t\t\t\t<RecContainer />\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass UserList extends React.Component {\n\tdidMount = false;\n\tconstructor(props){\n\t\tif (sessionStorage.getItem(\"email\") === null || sessionStorage.getItem(\"email\") === \"\") {\n\t\t\tprops.history.push(process.env.PUBLIC_URL + '/');\n\t\t}\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t\t\t    currentMovies: [],\n\t\t\t\t\t    currentPage: null,\n\t\t\t\t\t    totalPages: null,\n\t\t\t\t\t    count: -1,\n\t\t\t\t\t  };\n\t\t\t\n\t\tthis.onPageChanged = this.onPageChanged.bind(this);\n\t}\n\t\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst type = this.props.match.params.type;\n\t\tconst prevType = prevProps.match.params.type;\n\t\tif (type !== prevType) {\n\t\t\tconst opts = {\"type\": \"get\"+this.props.match.params.type, \"email\": sessionStorage.email, \"start\": 0, \"end\": 24}\n\t\t\t\n\t    \tgetUserList(opts).then(response => {\n\t    \t\t\tvar totalPages = 1\n\t    \t\t\tif (! Math.ceil(response.count / this.props.pageLimit) === 0) {\n\t    \t\t\t\ttotalPages =  Math.ceil(response.count / this.props.pageLimit);\n\t    \t\t\t}\n\t\t\t\t\tthis.setState({count: response.count, totalPages: totalPages, currentPage: 1, currentMovies: JSON.parse(response.movie)})\n\t\t\t\t});\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n   \t\tthis.didMount = false;\n  \t}\n\n\n\tcomponentDidMount() {\n\t\tthis.didMount = true;\n\t\t// console.log(sessionStorage);\n\n\t\tconst opts = {\"type\": \"get\"+this.props.match.params.type, \"email\": sessionStorage.email, \"start\": 0, \"end\": 1}\n    \tgetUserList(opts).then(response => {\n    \t\tif (this.didMount) {\n\t\t\t\tthis.setState({count: response.count});\n\t\t\t}});\n\t}\n\n\tonPageChanged = data => {\n\t\tconst { currentPage, totalPages, pageLimit } = data;\n\t\tconst offset = (currentPage - 1) * pageLimit;\n\n\t\tconst opts = {\"type\": \"get\"+this.props.match.params.type, \"email\": sessionStorage.email, \"start\": offset, \"end\": 24}\n\t\t\n    \tgetUserList(opts).then(response => {\n    \t\t\t// console.log(response);\n    \t\t\tvar totalPages = 1\n    \t\t\tif (Math.ceil(response.count / this.props.pageLimit) !== 0) {\n    \t\t\t\ttotalPages =  Math.ceil(response.count / this.props.pageLimit);\n    \t\t\t}\n\t\t\t\t// console.log(totalPages);\n\t\t\t\tthis.setState({currentMovies: JSON.parse(response.movie)})\n\t\t\t});\n\t\tthis.setState({ currentPage, totalPages });\n\t};\n\n  \trender() {\n  \t\n    if (this.state.count === -1) return null;\n\n    const headerClass = [\n      \"text-dark py-2 pr-4 m-0\",\n      this.state.currentPage ? \"border-gray border-right\" : \"\"\n    ]\n      .join(\" \")\n      .trim();\n    // console.log(this.state.currentMovies);\n\n    const TitleStyle = styled(Link)`\n    \t\t@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,800,700,300);\n\t\t\t@import url(https://fonts.googleapis.com/css?family=Squada+One);\n\t\t\tfont-family:\"Comic Sans MS\", cursive, sans-serif; \n\t\t`;\n\tconst CardStyle = styled(Card)`\n\t\t\tbackground-color: rgba(1, 1, 1, 0) !important;\n\t\t\tbackground-blend-mode: color;\n\t\t`;\n    return (\n      \t\n      <div className=\"container mb-7\">\n        <div className=\"row d-flex flex-row py-5\">\n          <div className=\"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\">\n            <div className=\"d-flex flex-row align-items-center\">\n              <h2 className={headerClass}>\n                <strong className=\"text-info\">{this.state.count}</strong>{\" \"}\n                <strong className=\"text-secondary\">Movies</strong>\n              </h2>\n              {this.state.currentPage && (\n                <span className=\"current-page d-inline-block h-100 pl-4 text-secondary\">\n                  Page <span className=\"font-weight-bold text-info\">{this.state.currentPage}</span> /{\" \"}\n                  <span className=\"font-weight-bold\">{this.state.totalPages}</span>\n                </span>\n              )}\n            </div>\n            <div className=\"d-flex flex-row py-4 align-items-center\">\n              <Pagination\n                totalRecords={this.state.count}\n                pageLimit={this.props.pageLimit}\n                pageNeighbours={5}\n                onPageChanged={this.onPageChanged}\n              />\n            </div>\n            <Container>\n\t        \t<CardStyle>\n\t\t\t\t  <Card.Header className=\"shadow-lg\">\n\t\t\t\t  \t<Navbar.Brand>\n\t\t\t\t  \t<h2 className=\"text-white py-2 pr-4 m-0 display-4 font-weight-bold\">\n\t\t\t\t  \t\t{this.props.match.params.type}\n              \t\t</h2>\n\t                </Navbar.Brand>\n\t              </Card.Header>\n\t\t\t\t  <Card.Body>\n\t\t\t\t  \t<Row>\n\t\t\t\t  \t{this.state.currentMovies.map((item, i) => \n\t\t\t\t  \t\t<Col key={\"movie-row\"+i} style={{marginTop:10}} xs={6} md={3}>\n\t\t\t\t        \t<Card className=\"shadow-lg bg-dark border-info\">\n\t\t\t\t        \t\t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + item.Title, state: {movieInfo: item} }}>\n\t\t\t\t\t\t\t\t  <Image  \n\t\t\t\t\t\t\t\t    onError={(e)=>{e.target.onerror = null; e.target.src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\"}}\n\t\t\t\t\t\t\t\t    variant=\"top\" \n\t\t\t\t\t\t\t\t    style={{width: 350, height: 262}} \n\t\t\t\t\t\t\t\t    src={item.Poster}  fluid/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t  <Card.Body>\n\t\t\t\t\t\t\t\t  \t<Card.Text>\n\t\t\t\t\t\t\t\t  \t\t<TitleStyle className=\"text-white\" to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + item.Title, state: {movieInfo: item} }}>\n\t\t\t\t\t\t\t\t\t    \t{item.Title}\n\t\t\t\t\t\t\t\t\t    </TitleStyle>\n\t\t\t\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t\t\t\t  </Card.Body>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t        </Col>\n\t\t\t\t  \t)}\n    \t\t\t\t</Row>\n\t\t\t\t  </Card.Body>\n\t\t\t\t</CardStyle>\n\t\t    </Container>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass GenrePage extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t\t\t    currentMovies: [],\n\t\t\t\t\t    currentPage: null,\n\t\t\t\t\t    totalPages: null,\n\t\t\t\t\t    count: -1,\n\t\t\t\t\t  };\n\t\t\t\n\t\tthis.onPageChanged = this.onPageChanged.bind(this);\n\t}\n\t\n\tcomponentDidUpdate(prevProps) {\n\t\tconst type = this.props.match.params.type;\n\t\tconst prevType = prevProps.match.params.type\n\t\tif (type !== prevType) {\n\t\t\tgetMoviesFromMongoDB(\"find_from_to\", {\"genre\": type, \"start\": 0, \"end\": 24})\n\t\t\t.then(response => {\n\t\t\t\tconst totalPages = Math.ceil(response.count / this.props.pageLimit);\n\t\t\t\tthis.setState({count: response.count, totalPages: totalPages, currentPage: 1, currentMovies: JSON.parse(JSON.parse(response.movie))})\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { match: { params } } = this.props;\n    \tconst { type } = params;\n    \tgetMoviesFromMongoDB(\"find_from_to\", {\"genre\": type, \"start\": 0, \"end\": 1})\n\t\t\t.then(response => {this.setState({count: response.count});});\n\t}\n\n\tonPageChanged = data => {\n\t\tconst { currentPage, totalPages, pageLimit } = data;\n\t\tconst offset = (currentPage - 1) * pageLimit;\n\t\tconst {type} = this.props.match.params;\n\n\t\tgetMoviesFromMongoDB(\"find_from_to\", {\"genre\": type, \"start\": offset, \"end\": 24})\n\t\t\t.then(response => JSON.parse(JSON.parse(response.movie)))\n\t\t\t.then(data => {this.setState({currentMovies: data});});\n\n\t\tthis.setState({ currentPage, totalPages });\n\t};\n\n  \trender() {\n\n    if (this.state.count === -1) return null;\n    const headerClass = [\n      \"text-dark py-2 pr-4 m-0\",\n      this.state.currentPage ? \"border-gray border-right\" : \"\"\n    ]\n      .join(\" \")\n      .trim();\n    // console.log(this.state.currentMovies);\n\n    const TitleStyle = styled(Link)`\n    \t\t@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,800,700,300);\n\t\t\t@import url(https://fonts.googleapis.com/css?family=Squada+One);\n\t\t\tfont-family:\"Comic Sans MS\", cursive, sans-serif; \n\t\t`;\n\tconst CardStyle = styled(Card)`\n\t\t\tbackground-color: rgba(1, 1, 1, 0) !important;\n\t\t\tbackground-blend-mode: color;\n\t\t`;\n    return (\n    \t\n      <div className=\"container mb-7\">\n        <div className=\"row d-flex flex-row py-5\">\n          <div className=\"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between\">\n            <div className=\"d-flex flex-row align-items-center\">\n              <h2 className={headerClass}>\n                <strong className=\"text-info\">{this.state.count}</strong>{\" \"}\n                <strong className=\"text-secondary\">Movies</strong>\n              </h2>\n              {this.state.currentPage && (\n                <span className=\"current-page d-inline-block h-100 pl-4 text-secondary\">\n                  Page <span className=\"font-weight-bold text-info\">{this.state.currentPage}</span> /{\" \"}\n                  <span className=\"font-weight-bold\">{this.state.totalPages}</span>\n                </span>\n              )}\n            </div>\n            <div className=\"d-flex flex-row py-4 align-items-center\">\n              <Pagination\n                totalRecords={this.state.count}\n                pageLimit={this.props.pageLimit}\n                pageNeighbours={5}\n                onPageChanged={this.onPageChanged}\n              />\n            </div>\n            <Container>\n\t        \t<CardStyle>\n\t\t\t\t  <Card.Header className=\"shadow-lg\">\n\t\t\t\t  \t<Navbar.Brand>\n\t\t\t\t  \t<h2 className=\"text-white py-2 pr-4 m-0 display-4 font-weight-bold\">\n\t\t\t\t  \t\t{this.props.match.params.type + \" Movies\"}\n              \t\t</h2>\n\t                </Navbar.Brand>\n\t              </Card.Header>\n\t\t\t\t  <Card.Body>\n\t\t\t\t  \t<Row>\n\t\t\t\t  \t{this.state.currentMovies.map((item, i) => \n\t\t\t\t  \t\t<Col key={\"movie-row\"+i} style={{marginTop:10}} xs={6} md={3}>\n\t\t\t\t        \t<Card className=\"shadow-lg bg-dark border-info\">\n\t\t\t\t        \t\t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + item.Title, state: {movieInfo: item} }}>\n\t\t\t\t\t\t\t\t  <Image  \n\t\t\t\t\t\t\t\t    onError={(e)=>{e.target.onerror = null; e.target.src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\"}}\n\t\t\t\t\t\t\t\t    variant=\"top\" \n\t\t\t\t\t\t\t\t    style={{width: 350, height: 262}} \n\t\t\t\t\t\t\t\t    src={item.Poster}  fluid/>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t  <Card.Body>\n\t\t\t\t\t\t\t\t  \t<Card.Text>\n\t\t\t\t\t\t\t\t  \t\t<TitleStyle className=\"text-white\" to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + item.Title, state: {movieInfo: item} }}>\n\t\t\t\t\t\t\t\t\t    \t{item.Title}\n\t\t\t\t\t\t\t\t\t    </TitleStyle>\n\t\t\t\t\t\t\t\t\t</Card.Text>\n\t\t\t\t\t\t\t\t  </Card.Body>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t        </Col>\n\t\t\t\t  \t)}\n    \t\t\t\t</Row>\n\t\t\t\t  </Card.Body>\n\t\t\t\t</CardStyle>\n\t\t    </Container>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nclass MoviePage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmovie: '',\n\t\t\tisFavorite: false,\n\t\t\tisWatchlist: false,\n\t\t\trating: 0,\n\t\t}\n\t\tthis.handleFavorite = this.handleFavorite.bind(this);\n\t\tthis.handleWatchlist = this.handleWatchlist.bind(this);\n\t\tthis.changeRating = this.changeRating.bind(this);\n\t\tthis.cancelRated = this.cancelRated.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst movie = this.props.location.state.movieInfo;\n\n\t\tgetImages(movie.imdbID)\n\t\t.then(response => this.setState({\n\t\t\tmovie: movie,\n\t\t\tposter: \"https://image.tmdb.org/t/p/w500\" + response[0],\n\t\t\tbackdrop: \"https://image.tmdb.org/t/p/original\" + response[1],\n\t\t}))\n\t\t.catch(error => \n\t\t\tthis.setState({\n\t\t\tmovie: movie,\n\t\t\tposter: \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\",\n\t\t\tbackdrop: \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\",\n\t\t}));\n\n\t\tconst opts = {\"type\": \"inFavorite\", \"email\": sessionStorage.email, \"title\": movie.Title};\n\t\tgetUserList(opts).then(res => {this.setState({isFavorite: res.exist})});\n\n\t\tconst opts2 = {\"type\": \"inWatchlist\", \"email\": sessionStorage.email, \"title\": movie.Title};\n\t\tgetUserList(opts2).then(res => {this.setState({isWatchlist: res.exist})});\n\n\t\tconst opts3 = {\"type\": \"rateMovie\", \"email\": sessionStorage.email, \"title\": movie.Title, \"rate\": \"0\"};\n\t\tgetUserList(opts3).then(res => {this.setState({rating: res.rate === null ? 0 : res.rate})});\n\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tconst type = this.props.match.params.title;\n\t\tconst prevType = prevProps.match.params.title;\n\t\t// console.log(type);\n\t\t// console.log(prevType);\n\t\t// console.log(this.props.location.state.movieInfo);\n\t\tif (type !== prevType) {\n\t\t\tconst movie = this.props.location.state.movieInfo;\n\n\t\t\tgetImages(movie.imdbID)\n\t\t\t.then(response => this.setState({\n\t\t\t\tmovie: movie,\n\t\t\t\tposter: \"https://image.tmdb.org/t/p/w300\" + response[0],\n\t\t\t\tbackdrop: \"https://image.tmdb.org/t/p/original\" + response[1],\n\t\t\t}))\n\t\t\t.catch(error => \n\t\t\t\t{\n\t\t\t\tthis.setState({\n\t\t\t\tmovie: movie,\n\t\t\t\tposter: \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\",\n\t\t\t\tbackdrop: \"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\",\n\t\t\t})});\n\t\t}\n\n\t\tif (prevProps.isAuthenticated === false && this.props.isAuthenticated === true) {\n\t\t\tthis.getRate();\n\t\t}\n\n\t}\n\n\tchangeRating( newRating ) {\n\t\tconst movie = this.props.location.state.movieInfo;\n\t\tconst opts = {\"type\": \"rateMovie\", \"email\": sessionStorage.email, \"title\": movie.Title, \"rate\": newRating};\n\t\tgetUserList(opts).then(res => {this.setState({rating: newRating})});\n    }\n\n    cancelRated() {\n    \tconst movie = this.props.location.state.movieInfo;\n    \tconst opts = {\"type\": \"rateMovie\", \"email\": sessionStorage.email, \"title\": movie.Title, \"rate\": \"-1\"};\n\t\tgetUserList(opts).then(res => {this.setState({rating: 0})});\n    }\n\n\thandleFavorite() {\n\t\tif (this.state.isFavorite) {\n\t\t\tconst opts = {\"type\": \"removeFavorite\", \"email\": sessionStorage.email, \"title\": this.state.movie.Title}\t\n\t\t\taddToUserList(opts).then(() => this.setState({isFavorite: false}));\n\t\t}\n\t\telse {\n\t\t\tconst opts = {\"type\": \"favorite\", \"email\": sessionStorage.email, \"title\": this.state.movie.Title}\n\t\t\taddToUserList(opts).then(() => this.setState({isFavorite: true}));\n\t\t}\n\t\t\n\t}\n\n\thandleWatchlist() {\n\t\tif (this.state.isWatchlist) {\n\t\t\tconst opts = {\"type\": \"removeWatchlist\", \"email\": sessionStorage.email, \"title\": this.state.movie.Title}\t\n\t\t\taddToUserList(opts).then(() => this.setState({isWatchlist: false}));\n\t\t}\n\t\telse {\n\t\t\tconst opts = {\"type\": \"watchlist\", \"email\": sessionStorage.email, \"title\": this.state.movie.Title}\n\t\t\taddToUserList(opts).then(() => this.setState({isWatchlist: true}));\n\t\t}\n\t}\n\n\tgetRate() {\n\t\tconst opts3 = {\"type\": \"rateMovie\", \"email\": sessionStorage.email, \"title\": this.props.location.state.movieInfo.Title, \"rate\": \"0\"};\n\t\tgetUserList(opts3).then(res => {this.setState({rating: res.rate === null ? 0 : res.rate})});\n\t}\n\n\trender() {\n\t\tconst JumbotronStyle = styled(Jumbotron)`\n\t\t\tbackground-color: rgba(1, 1, 1, 0.71) !important;\n\t\t\tbackground-image: url( ${this.state.backdrop} );\n\t\t\tbackground-size : cover;\n\t\t\tbackground-blend-mode: color;\n\t\t`;\n\n\t\tconst BtnSMMinus = \n\t\t\tstyled(Button)`\n\t\t\t\tmargin-left: 5px;\n\t\t\t\twidth: 30px;\n\t\t\t    height: 30px;\n\t\t\t    padding: 4px 8px;\n\t\t\t    border-radius: 30px;\n\t\t\t    font-size: 12px;\n\t\t\t    line-height: 1.33;\n\t\t\t`;\n\n\t\tconst BtnXlFavorite = \n\t\t\tstyled(Button)`\n\t\t\t\twidth: 60px;\n\t\t\t    height: 60px;\n\t\t\t    padding: 8px 16px;\n\t\t\t    border-radius: 30px;\n\t\t\t    font-size: 24px;\n\t\t\t    line-height: 1.33;\n\t\t\t    color: ${!this.state.isFavorite? \"white\" : \"red\"}; \n\t\t\t`\n\t\t\n\t\t\n\t\tconst BtnXLWatchlist = \n\t\t\tstyled(Button)`\n\t\t\t\twidth: 60px;\n\t\t\t    height: 60px;\n\t\t\t    padding: 8px 16px;\n\t\t\t    border-radius: 30px;\n\t\t\t    font-size: 24px;\n\t\t\t    line-height: 1.33;\n\t\t\t    color: ${!this.state.isWatchlist? \"white\" : \"red\"}; \n\t\t\t`\n\t\t\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<JumbotronStyle className=\"jumbotron text-center\">\n\t\t\t\t\t<Row> \n\t\t\t\t\t\t<Col md={4} offset={1} mx={3} my={3}>\n\t\t\t\t\t      <div className=\"view overlay\">\n\t\t\t\t\t        <img src={this.state.poster} className=\"img-fluid\" alt=\"\">\n\t\t\t\t\t        </img>\n\t\t\t\t\t      </div>\n\t\t\t\t\t    </Col>\n\n\t\t\t\t\t    <Col className=\"col-md-7 text-md-left ml-3 mt-3\">\n\t\t\t\t\t      <h1 style={{color:\"white\"}}>{this.state.movie.Title + \" (\" + this.state.movie.Year + \")\"}</h1>\n\t\t\t\t\t      <p style={{color:\"white\"}} className=\"font-weight-normal\">{this.state.movie.Genre}</p>\n\t\t\t\t\t      <Row>\n\t\t\t\t\t      \t<Col md={2}>\n\t\t\t\t\t\t\t\t{this.props.isAuthenticated ? \n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t\t    placement=\"top\"\n\t\t\t\t\t\t\t\t\t    overlay={\n\t\t\t\t\t\t\t\t\t        <Tooltip >\n\t\t\t\t\t\t\t\t\t        \t{!this.state.isFavorite? \"Add to favorite.\" : \"Remove from favorite.\"}\n\t\t\t\t\t\t\t\t\t        </Tooltip>\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BtnXlFavorite variant=\"outline-light\" onClick={this.handleFavorite}> <FaHeart  /> </BtnXlFavorite>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t\t    placement=\"top\"\n\t\t\t\t\t\t\t\t\t    overlay={\n\t\t\t\t\t\t\t\t\t        <Tooltip >\n\t\t\t\t\t\t\t\t\t        \tPlease sign in first.\n\t\t\t\t\t\t\t\t\t        </Tooltip>\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"d-inline-block\">\n\t\t\t\t\t\t     \t\t\t<BtnXlFavorite variant=\"outline-light\" style={{pointerEvents: 'none'}} disabled onClick={this.handleFavorite}> <FaHeart  /> </BtnXlFavorite>\n\t\t\t\t\t\t     \t\t</span>\n\t\t\t\t\t\t     \t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t     \t</Col>\n\t\t\t\t\t     \t<Col md={2}>\n\t\t\t\t\t     \t\t{this.props.isAuthenticated? \n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t\t    placement=\"top\"\n\t\t\t\t\t\t\t\t\t    overlay={\n\t\t\t\t\t\t\t\t\t        <Tooltip >\n\t\t\t\t\t\t\t\t\t        \t{!this.state.isWatchlist? \"Add to watchlist.\" : \"Remove from watchlist.\"}\n\t\t\t\t\t\t\t\t\t        </Tooltip>\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BtnXLWatchlist variant=\"outline-light\" onClick={this.handleWatchlist}> <FaBookmark  /> </BtnXLWatchlist>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t\t    placement=\"top\"\n\t\t\t\t\t\t\t\t\t    overlay={\n\t\t\t\t\t\t\t\t\t        <Tooltip >\n\t\t\t\t\t\t\t\t\t        \tPlease sign in first.\n\t\t\t\t\t\t\t\t\t        </Tooltip>\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"d-inline-block\">\n\t\t\t\t\t\t     \t\t\t<BtnXLWatchlist variant=\"outline-light\" style={{pointerEvents: 'none'}} disabled onClick={this.handleWatchlist}> <FaBookmark  /> </BtnXLWatchlist>\n\t\t\t\t\t\t     \t\t</span>\n\t\t\t\t\t\t     \t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t     \t</Col>\n\t\t\t\t\t     \t<Col md={7}>\n\t\t\t\t\t     \t\t{this.props.isAuthenticated ?\n\t\t\t\t\t     \t\t\t<React.Fragment>\n\t\t\t\t\t\t     \t\t<StarRatings\n\t          \t\t\t\t\t\t\trating={this.state.rating}\n\t          \t\t\t\t\t\t\tstarRatedColor=\"red\"\n\t          \t\t\t\t\t\t\tchangeRating={this.changeRating}\n\t          \t\t\t\t\t\t\tnumberOfStars={5}\n\t          \t\t\t\t\t\t\tstarDimension=\"35px\"\n\t        \t\t\t\t\t\t/>\n\t        \t\t\t\t\t\t<OverlayTrigger\n\t\t\t\t\t\t\t\t\t    placement=\"top\"\n\t\t\t\t\t\t\t\t\t    overlay={\n\t\t\t\t\t\t\t\t\t        <Tooltip >\n\t\t\t\t\t\t\t\t\t        \t{\"Cancel rated.\"}\n\t\t\t\t\t\t\t\t\t        </Tooltip>\n\t\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<BtnSMMinus variant=\"outline-light\" onClick={this.cancelRated}> <FaMinusCircle  /> </BtnSMMinus>\n\t\t\t\t\t\t\t\t\t</OverlayTrigger>\n\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t\t}\n        \t\t\t\t\t\t\n\t\t\t\t\t     \t</Col>\n\t\t\t\t\t      </Row>\n\t\t\t\t\t      <Row style={{marginTop: 10}}>\n\t\t\t\t\t\t      <Col>\n\t\t\t\t\t\t      \t<p style={{color:\"white\"}} className=\"font-weight-normal\">IMDB Score: {this.state.movie.imdbRating}</p>\n\t\t\t\t\t\t      </Col>\t\n\t\t\t\t\t\t      <Col>\n\t\t\t\t\t\t      \t<p style={{color:\"white\"}} className=\"font-weight-normal\">IMBD Vote: {this.state.movie.imdbVotes}</p>\n\t\t\t\t\t\t      </Col>\n\t\t\t\t\t\t      <Col>\n\t\t\t\t\t\t      \t<p style={{color:\"white\"}} className=\"font-weight-normal\">Runtime: {this.state.movie.Runtime}</p>\n\t\t\t\t\t\t      </Col>\n\t\t\t\t\t\t      <Col>\n\t\t\t\t\t\t      \t<p style={{color:\"white\"}} className=\"font-weight-normal\">Language: {this.state.movie.Language}</p>\n\t\t\t\t\t\t      </Col>\n\t\t\t\t\t      </Row>\n\t\t\t\t\t      <h2 style={{color:\"white\"}}>Overview</h2>\n\t\t\t\t\t      <p style={{color:\"white\"}} className=\"font-weight-normal\">{this.state.movie.Plot}</p>\n\t\t\t\t\t      <Row>\n\t\t\t\t\t      \t<Col>\n\t\t\t\t\t      \t\t<h2 style={{color:\"white\"}}>Actors</h2>\n\t\t\t\t\t      \t\t<p style={{color:\"white\"}} className=\"font-weight-normal\">{this.state.movie.Actors}</p>\n\t\t\t\t\t      \t</Col>\n\t\t\t\t\t      \t<Col>\n\t\t\t\t\t      \t\t<h2 style={{color:\"white\"}}>Director</h2>\n\t\t\t\t\t      \t\t<p style={{color:\"white\"}} className=\"font-weight-normal\">{this.state.movie.Director}</p>\n\t\t\t\t\t      \t</Col>\n\t\t\t\t\t      </Row>\n\n\t\t\t\t\t    </Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</JumbotronStyle>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst MaxP = styled.p`\n\t\t\toverflow: hidden;\n\t\t\t  display: -webkit-box;\n\t\t\t  -webkit-line-clamp: 2;\n\t\t\t  -webkit-box-orient: vertical;\n\t\t`;\n\nfunction TopMovie(props) {\n\treturn (\n\t\t<Card bg=\"dark\" border=\"info\" className=\"shadow-lg\" style={{marginTop: 10}}>\n\t\t\t<Card.Body>\n\t\t\t\t<Row className=\"text-white\">\n\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={1}>\n\t\t\t\t\t\t\t\t<p> {props.order} </p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={2}>\n\t\t\t\t\t\t\t\t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + props.movie.Title, state: {movieInfo: props.movie} }}>\n\t\t\t\t\t\t\t\t\t<img onError={(e)=>{e.target.onerror = null; e.target.src=\"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg\"}} style={{width: 250, height: 200}}  src={props.movie.Poster}  alt=\"\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={8}>\n\t\t\t\t\t\t\t<Link to={{ pathname: process.env.PUBLIC_URL + '/movie-page/' + props.movie.Title, state: {movieInfo: props.movie} }}>\n\t\t\t\t\t\t\t\t<h2 style={{color:\"white\"}}>{props.movie.Title + \" (\" + props.movie.Year + \")\"}</h2>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t<h2 style={{color:\"white\"}}>{\"Score: \" + props.movie.imdbRating }</h2>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col md={5}>\n\t\t\t\t\t\t\t<p> {\"Genre: \" + props.movie.Genre }</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={3}>\n\t\t\t\t\t\t\t<p style={{color:\"white\"}}>{\"Runtime: \" + props.movie.Runtime}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={4}>\n\t\t\t\t\t\t\t<p style={{color:\"white\"}}>{\"Language: \" + props.movie.Language}</p>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<h3 style={{color:\"white\"}}>Actors</h3>\n\t\t\t\t\t\t\t\t<MaxP> {props.movie.Actors} </MaxP>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col md={7} >\n\t\t\t\t\t\t\t<h3 style={{color:\"white\"}}>Overview</h3>\n\t\t\t\t\t\t\t<MaxP> {props.movie.Plot} </MaxP>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Card.Body>\n\t\t</Card>\n\t);\n}\n\nclass TopRated extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tgetTopMovies(10)\n\t\t.then(response => this.setState({movies: JSON.parse(JSON.parse(response.movie))}))\n\t}\n\trender() {\n\t\tif (this.state.movies.length === 0) return null;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Container style={{marginTop: 150}}>\n\t\t\t\t\t<h2 className=\"text-white py-2 pr-4 m-0 display-4 font-weight-bold\">\n\t\t\t\t  \t\tTop Movies\n              \t\t</h2>\n\t\t\t\t\t{this.state.movies.map((item, index) => \n\t\t\t\t\t\t<TopMovie key={\"top-\" + index} movie={item} order={index + 1}/>\n\t\t\t\t\t)}\n\t\t\t\t</Container>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nclass SearchPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttext: \"\",\n\t\t\tmovies: [],\n\t\t\tisLoading: false,\n\t\t\tresultState: \"No Result...\",\n\t\t}\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\thandleClick(event) {\n\t\tthis.setState({isLoading:true, resultState: \"Searching...\"})\n\n\t\tevent.preventDefault();\n\t\tadvancedSearch({\"text\": this.state.text})\n\t\t.then(res => this.setState({\n\t\t\tmovies: JSON.parse(res.movies),\n\t\t})).then(()=>{this.setState({isLoading:false, resultState: \"No Result...\"})});\n\t}\n\t\n\thandleChange(event) {\n\t    this.setState({\n\t      text: event.target.value\n\t    });\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Container>\n\t\t\t\t\t<Form className=\"text-center\">\n\t\t\t\t\t\t<Form.Group controlId=\"exampleForm.ControlTextarea1\">\n\t\t\t\t\t\t    <Form.Label>Example textarea</Form.Label>\n\t\t\t\t\t\t    <Form.Control as=\"textarea\" rows=\"3\" \n\t\t\t\t\t\t    onChange={this.handleChange} \n\t\t\t\t\t\t    value={this.state.text}/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t        <LoaderButton \n\t\t\t            variant=\"outline-info\" \n\t\t\t            type=\"submit\"\n\t\t\t            text=\"Search\"\n\t\t\t            loadingText=\"Searching\"\n\t\t\t            isLoading={this.state.isLoading}\n\t\t\t            onClick={this.handleClick}\n\t\t\t            />\n\t\t\t\t\t</Form>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<h2 style={{color:\"white\"}}>Results:</h2>\n\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t{this.state.movies.length !== 0 ?\n\t\t\t\t\t\t\t\tthis.state.movies.map((item, index) => \n\t\t\t\t\t\t\t\t<TopMovie key={\"top-\" + index} movie={item} order={index + 1}/>)\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<h3 style={{color:\"white\"}} className=\"text-center\">{this.state.resultState}</h3>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\n\nconst Page1 = () => (\n    <div>\n        <h1>Page1</h1>\n    </div>\n)\n\n\nfunction advancedSearch(opts) {\n\t// console.log(opts);\n\tconst url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/advanced\";\n\n\treturn fetch(url, {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(opts)\n\t})\n\t.then(response => response.json())\n\t.then(res => {return res});\n}\n\nfunction getTopMovies(num) {\n\tconst url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?type=topRated&num=\" + num + \"&minVote=20000\";\n\treturn fetch(url)\n\t      .then(res => res.json())\n\t      .then(\n\t        (result) => {\n\t        \t// console.log(result);\n\t          return result;\n\t        },\n\t        // Note: it's important to handle errors here\n\t        // instead of a catch() block so that we don't swallow\n\t        // exceptions from actual bugs in components.\n\t        (error) => {\n\t          alert(error);\n\t        }\n\t       );\n}\n\nfunction addToUserList(opts) {\n\tconst url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/userList\"\n\treturn fetch(url, {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(opts)\n\t})\n\t.then(response => response.json())\n\t.then(res => {return res});\n}\n\nfunction getUserList(opts) {\n\tconst url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/userList\"\n\treturn fetch(url, {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(opts)\n\t})\n\t.then(response => response.json())\n\t.then(res => {return res})\n\t.catch(error => console.log(error));\n}\n\nfunction getMoviesFromMongoDB(type, context) {\n\tvar url = \"https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?\";\n\tconst title = context.title;\n\tconst text = context.text;\n\tconst genre = context.genre;\n\tconst start = context.start;\n\tconst end = context.end;\n\n\tif (type === \"find_one\") {\n\t\turl = url + \"type=\" + type + \"&title=\" + title;\n\t}\n\telse if (type === \"advanced\") {\n\t\turl = url + \"type=\" + type + \"&text=\" + text;\n\t}\n\telse if (type === \"find_from_to\"){\n\t\turl = url + \"type=\" + type + \"&genre=\" + genre + \"&start=\" + start + \"&end=\" + end;\n\t}\n\n\treturn fetch(url)\n\t      .then(res => res.json())\n\t      .then(\n\t        (result) => {\n\t        \t// console.log(result);\n\t          return result;\n\t        },\n\t        // Note: it's important to handle errors here\n\t        // instead of a catch() block so that we don't swallow\n\t        // exceptions from actual bugs in components.\n\t        (error) => {\n\t          alert(error);\n\t        }\n\t       );\n}\n\nfunction getImages(imdbId) {\n\tconst testUrl = \"https://api.themoviedb.org/3/find/\" + imdbId + \"?api_key=5256f55becfcbae4f52f802e2173adcb&language=en-US&external_source=imdb_id\";\n\treturn fetch(testUrl)\n\t.then(res => res.json())\n\t.then(result => {return result.movie_results;})\n\t.then((result) => \n\t\t{return [result[0].poster_path, result[0].backdrop_path]})\n\t.catch(\n\t\terror => {//do nothing\n\t});\n}\n\n// console.log(getImages(\"tt0118578\"));\n\nexport default Home\nexport {GenrePage, Page1, MoviePage, SearchPage, TopRated, getTopMovies, UserList}\n\n","import React from 'react';\nimport { Switch, Route} from 'react-router-dom';\nimport Home from './Pages';\nimport {GenrePage, Page1, MoviePage, SearchPage, TopRated, UserList} from './Pages';\n// import {GENRE, ErrorImageSrc, BackgroundImg} from './Constants';\n\nclass Main extends React.Component {\n\trender() {\n\t\treturn(\n\t\t\t<main style={{marginTop:50}} >\n\t\t\t\t<Switch>\n\t\t\t      <Route exact path={process.env.PUBLIC_URL+'/'} component={Home} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/Recommend'} component={Page1} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/movie-page/:title'} render={(props) => <MoviePage \n\t\t\t      \temail={this.props.email} \n\t\t\t      \tisAuthenticated={this.props.isAuthenticated}\n\t\t\t      \t{...props} />} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/Top'} component={TopRated} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/Popular'} component={Page1} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/AdvancedSearch'} component={SearchPage} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/genre/:type'} render={(props) => <GenrePage pageLimit={24} {...props} />} />\n\t\t\t      <Route path={process.env.PUBLIC_URL+'/user/:type'} render={(props) => <UserList \n\t\t\t      \temail={this.props.email} \n\t\t\t      \tisAuthenticated={this.props.isAuthenticated}\n\t\t\t      \tpageLimit={24} {...props} />} />\n\t\t\t    </Switch>\n\t\t\t</main>\n\t\t);\n\t}\n}\n\n\nexport default Main\n\n","import React from 'react';\nimport { Auth } from \"aws-amplify\";\n// import Navigation from './components/js/Navigation';\nimport Header from './components/js/Header';\nimport Main from './components/js/Main';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t    super(props);\n\n\t    this.state = {\n\t    \talertType: \"warning\",\n\t      \talertShow: false,\n\t      \talertMessage: \"\",\n\t      \tisForgetPassword: false,\n\t\t\tisSignup: false,\n\t\t\tsignTitle: \"Sign in\",\n\t\t\tsignStatement: \"New to SayYourMovie? Join us!\",\n\t\t\tshow: false,\n\t\t\t// username: \"\",\n\t\t\tcurrentEmail: \"\",\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t\tnickname: \"\",\n\t\t\tconfirmPassword: \"\",\n\t\t\tconfirmationCode: \"\",\n\t\t\tnewUser: null,\n\t\t\tisAuthenticated: false,\n\t\t\tisAuthenticating: true,\n\t\t\tisLoading: false,\n\t\t\tisSending: false,\n\t\t\tseconds: 30,\n\t    };\n\n\t    this.handleSendForgetCode = this.handleSendForgetCode.bind(this);\n\t    this.handleForget = this.handleForget.bind(this);\n\t    this.countDown=this.countDown.bind(this);\n\t    this.handleResetPassword = this.handleResetPassword.bind(this);\n\n\t    this.handleCloseAlert = this.handleCloseAlert.bind(this);\n\n\t    this.handleSign = this.handleSign.bind(this);\n\n\t    this.handleShow = this.handleShow.bind(this);\n\t    this.handleClose = this.handleClose.bind(this);\n\t    this.handleChange = this.handleChange.bind(this);\n\n\t    this.handleSubmit = this.handleSubmit.bind(this);\n\n\t    this.handleLogout = this.handleLogout.bind(this);\n\n\t    this.handleResend = this.handleResend.bind(this);\n\n\t    this.handleSignupSubmit = this.handleSignupSubmit.bind(this);\n\t    this.handleConfirmationSubmit = this.handleConfirmationSubmit.bind(this);\n\t}\n\n\tasync currentSession() {\n\t\ttry {\n\t    await Auth.currentSession();\n\t    await Auth.currentAuthenticatedUser({\n\t\t    bypassCache: false  // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\n\t\t}).then(user => {\n\t\t\t// console.log(user); \n\t\t\tsessionStorage.setItem(\"email\", user.attributes.email);\n\t\t\tthis.setState({\n\t\t\tnickname: user.attributes.nickname,\n\t\t\tcurrentEmail: user.attributes.email, \n\t\t})})\n\t\t.catch(err => console.log(err));\n\t    this.setState({ isAuthenticated: true });\n\t  }\n\t  catch(e) {\n\t    if (e !== 'No current user') {\n\t      alert(e);\n\t    }\n\t    this.setState({ \n\t    \tisAuthenticating: false,\n\t    \tcurrentEmail: \"\",\n\t    });\n\t    sessionStorage.setItem(\"email\", \"\");\n\t  }\n\t}\n\n\tasync componentDidMount() {\n\t  this.currentSession();\n\t}\n\n\tcountDown(){\n      if(this.state.seconds > 0) {\n          this.setState({\n            seconds: this.state.seconds - 1\n          })\n          setTimeout(() => this.countDown(), 1000);\n      }else {\n         this.setState({\n          isSending: false,\n          seconds: 30,\n         })\n      }   \n  \t}\n\n\thandleCloseAlert() {\n\t\tthis.setState({\n\t\t\talertShow: false,\n\t\t})\n\t}\n\n\thandleForget() {\n\t\tthis.setState({\n\t\t\tisForgetPassword: true,\n\t\t\tsignTitle: \"Reset Password\"\n\t\t})\n\t}\n\n\thandleSign() {\n\t\tif (!this.state.isSignup) {\n\t\t\tif (this.state.isForgetPassword) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisForgetPassword: false,\n\t\t\t\t\tisSignup: false,\n\t\t\t\t\tsignTitle: \"Sign in\",\n\t\t\t\t\tsignStatement: \"New to SayYourMovie? Join us!\"\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tisSignup: true,\n\t\t\t\tsignTitle: \"Sign up\",\n\t\t\t\tnewUser: null,\n\t\t\t\tsignStatement: \"Already in? Sign in!\"\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tisSignup: false,\n\t\t\t\tsignTitle: \"Sign in\",\n\t\t\t\tisForgetPassword: false,\n\t\t\t\tsignStatement: \"New to SayYourMovie? Join us!\"\n\t\t\t});\n\t\t}\n\t}\n\n\tvalidateSignupForm() {\n\t\treturn (\n\t\t\tthis.state.email.length > 0 &&\n\t\t    this.state.password.length > 0 &&\n\t\t    this.state.password === this.state.confirmPassword\n\t\t);\n\t}\n\n\tvalidateSigninForm() {\n\t\treturn (\n\t\t\tthis.state.email.length > 0 &&\n\t\t    this.state.password.length > 0\n\t\t);\n\t}\n\n\tvalidateConfirmationForm() {\n\t    return this.state.confirmationCode.length > 0;\n\t}\n\n\thandleClose() {\n\t\tthis.setState({ show: false });\n\t}\n\n\thandleShow() {\n\t\tthis.setState({ show: true });\n\t}\n\n\thandleChange(event) {\n\t    this.setState({\n\t      [event.target.id]: event.target.value\n\t    });\n    }\n\n    async handleResend() {\n    \tthis.setState({ isSending: true });\n\t    this.countDown();\n\t    try {\n\t\t    Auth.resendSignUp(this.state.email);\n\t\t} catch (e) {\n\t\t    alert(e.message);\n\t\t}\n    }\n\n    async handleLogout() {\n    \tawait Auth.signOut();\n  \t\tthis.setState({ \n  \t\t\tcurrentEmail: \"\",\n  \t\t\tnickname: \"\",\n  \t\t\tisAuthenticated: false,\n  \t\t\tisLoading: false,\n  \t\t\tisSignup: false,\n  \t\t\tnewUser: null,\n  \t\t\tsignTitle: \"Sign in\",\n\t\t\tsignStatement: \"New to SayYourMovie? Join us!\"\n  \t\t});\n  \t\tsessionStorage.email = \"\";\n    }\n\n    async handleSignupSubmit(event) {\n    \tevent.preventDefault();\n\t    this.setState({ isLoading: true });\n\n\t    if (!this.validateSignupForm()) {\n\t    \tif (this.state.password.length < 8) {\n\t    \t\tthis.setState({ isLoading: false });\n\t    \t\tthis.setState({alertShow: true, alertMessage: \"Password must contain as least 8 characters.\", alertType:\"warning\"});\n\t    \t\treturn;\n\t    \t}\n\t    \tthis.setState({ isLoading: false });\n\t    \tthis.setState({alertShow: true, alertMessage: \"Incorrect input.\", alertType:\"warning\"});\n\t    \treturn;\n\t    }\n\n\t    try {\n\t\t    const newUser = await Auth.signUp({\n\t\t      username: this.state.email,\n\t\t      password: this.state.password,\n\t\t      attributes: {\n\t\t      \tnickname: this.state.nickname,  \n\t\t      },\n\t\t    });\n\t\t    \n\t\t    this.setState({\n\t\t      newUser\n\t\t    });\n\n\t\t    this.setState({ isSending: true });\n\t    \tthis.countDown();\n\t\t} catch (e) {\n\t\t\tif (e.name === 'UsernameExistsException') {\n\t\t\t\tthis.setState({alertShow: true, alertMessage: \"An account with the given email already exists.\", alertType:\"warning\"})\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(\"Something wrong...\");\t\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t    \n\t\t}\n\t    this.setState({ isLoading: false });\n    }\n\n    async handleConfirmationSubmit(event) {\n\t    event.preventDefault();\n\t    this.setState({ isLoading: true });\n\n\t    if (!this.validateConfirmationForm()) {\n\t    \tthis.setState({ isLoading: false });\n\t    \tthis.setState({alertShow: true, alertMessage: \"Incorrect input.\", alertType:\"warning\"});\n\t    \treturn;\n\t    }\n\n\t    try {\n\t\t    await Auth.confirmSignUp(this.state.email, this.state.confirmationCode);\n\t\t    await Auth.signIn(this.state.email, this.state.password);\n\t\t    this.setState({ \n\t\t    \tisAuthenticated: true,\n\t\t    \tshow: false\n\t\t    });\n\t\t} catch (e) {\n\t\t\tif (e.name === 'CodeMismatchException') {\n\t\t\t\tthis.setState({\n\t\t\t\t\talertShow: true, \n\t\t\t\t\talertMessage: \"Invalid verification code provided, please try again.\",\n\t\t\t\t\talertType:\"warning\"\n\t\t\t\t})\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(\"Something wrong...\");\t\n\t\t\t}\n\t\t    \n\t\t    this.setState({ isLoading: false });\n\t\t}\n\t}\n\n\tasync handleSendForgetCode(event) {\n\t    event.preventDefault();\n\t    this.setState({ isSending: true });\n\t    this.countDown();\n\t    if (this.state.email === \"\") {\n\t    \t// this.setState({ isSending: false });\n\t    \tthis.setState({alertShow: true, alertMessage: \"Email cannot be empty.\", alertType:\"warning\"});\n\t    \treturn;\n\t    }\n\n\t    try {\n\n\t    \tawait Auth.forgotPassword(this.state.email)\n\n\t\t} catch (e) {\n\t\t\tif (e.name === 'CodeMismatchException') {\n\t\t\t\tthis.setState({\n\t\t\t\t\talertShow: true, \n\t\t\t\t\talertMessage: \"Invalid verification code provided, please try again.\",\n\t\t\t\t\talertType:\"warning\"\n\t\t\t\t})\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(\"Something wrong...\");\t\n\t\t\t\tconsole.log(e.message);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync handleResetPassword(event) {\n\t    event.preventDefault();\n\t    this.setState({ isLoading: true });\n\n\t    // if (this.state.email === \"\") {\n\t    // \tthis.setState({ isLoading: false });\n\t    // \tthis.setState({alertShow: true, alertMessage: \"Email cannot be empty.\"});\n\t    // \treturn;\n\t    // }\n\n\t    try {\n\t    \tawait Auth.forgotPasswordSubmit(this.state.email, this.state.confirmationCode, this.state.password)\n\n\t    \tthis.setState({ \n\t\t    \tisForgetPassword: false,\n\t\t    \talertMessage: \"Successfully reset password, you can login now.\",\n\t\t    \talertType: \"success\",\n\t\t    \talertShow: true,\n\t\t    });\n\t\t} catch (e) {\n\t\t\tif (e.name === 'CodeMismatchException') {\n\t\t\t\tthis.setState({\n\t\t\t\t\talertShow: true, \n\t\t\t\t\talertMessage: \"Invalid verification code provided, please try again.\",\n\t\t\t\t\talertType:\"warning\"\n\t\t\t\t})\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\talert(\"Something wrong...\");\t\n\t\t\t}\n\t\t}\n\t\tthis.setState({ isLoading: false});\n\t\t\n\t}\n\n    async handleSubmit(event) {\n\t    event.preventDefault();\n\t    this.setState({ isLoading: true });\n\n\t    if (!this.validateSigninForm()) {\n\t    \tthis.setState({ isLoading: false });\n\t    \tthis.setState({alertShow: true, alertMessage: \"Incorrect input.\", alertType:\"warning\"});\n\t    \treturn;\n\t    }\n\n\t    try {\n\t\t    await Auth.signIn(this.state.email, this.state.password);\n\t\t    this.currentSession();\n\t\t    this.setState({ \n\t\t    \tshow: false\n\t\t    });\n\t\t  } catch (e) {\n\t\t\tif (e.name === 'UserNotConfirmedException') {\n\t\t\t\tthis.setState({\n\t\t\t\t\talertShow: true, \n\t\t\t\t\talertMessage: \"The email has not been confirmed yet.\",\n\t\t\t\t\talertType:\"warning\",\n\t\t\t\t\tisSignup: true,\n\t\t\t\t\tnewUser: this.state.email,\n\t\t\t\t\tsignTitle: \"Please verify your account\",\n\t\t\t\t\tsignStatement: \"Already in? Sign in!\"\n\t\t\t\t})\t\n\t\t\t}\n\t\t    else if (e.name === 'NotAuthorizedException'){\n\t\t    \tthis.setState({alertShow: true, alertMessage: \"Incorrect email or password.\", alertType:\"warning\"})\n\t\t    }\n\t\t    else {\n\t\t    \talert(\"Something wrong...\");\t\n\t\t    }\n\t\t    \n\t\t    this.setState({ isLoading: false });\n\t\t  }\n\t}\n\n\trender() {\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<Header \n\t\t\t\talertType={this.state.alertType}\n\t\t\t\talertMessage={this.state.alertMessage}\n\t\t\t\talertShow={this.state.alertShow}\n\t\t\t\tisForgetPassword={this.state.isForgetPassword}\n\t\t\t\tsignTitle={this.state.signTitle}\n\t\t\t\tisSignup={this.state.isSignup}\n\t\t\t\tsignStatement={this.state.signStatement}\n\t\t\t\thandleSign={this.handleSign}\n\t\t\t\thandleForget={this.handleForget}\n\t\t\t\tisLoading={this.state.isLoading}\n\t\t\t\tisSending={this.state.isSending}\n\t\t\t\tseconds={this.state.seconds}\n\t\t\t\tshow={this.state.show}\n\t\t\t\tonCloseAlert={this.handleCloseAlert}\n\t\t\t\tonShow={this.handleShow}\n\t\t\t\tonClose={this.handleClose}\n\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\tonSignupSubmit={this.handleSignupSubmit}\n\t\t\t\tonConfirmationSubmit={this.handleConfirmationSubmit}\n\t\t\t\tonResend={this.handleResend}\n\t\t\t\tonSendForgetCode={this.handleSendForgetCode}\n\t\t\t\tonResetPassword={this.handleResetPassword}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tonLogout={this.handleLogout}\n\t\t\t\tnewUser={this.state.newUser}\n\t\t\t\tconfirmPassword={this.state.confirmPassword}\n\t\t\t\tconfirmationCode={this.state.confirmationCode}\n\t\t\t\temail={this.state.email}\n\t\t\t\tpassword={this.state.password}\n\t\t\t\tnickname={this.state.nickname}\n\t\t\t\tisAuthenticated={this.state.isAuthenticated} />\n\n\t\t\t\t<Main \n\t\t\t\temail={this.state.currentEmail}\n\t\t\t\tisAuthenticated={this.state.isAuthenticated}/>\n\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App","export default {\n  s3: {\n    REGION: \"YOUR_S3_UPLOADS_BUCKET_REGION\",\n    BUCKET: \"YOUR_S3_UPLOADS_BUCKET_NAME\"\n  },\n  apiGateway: {\n    REGION: \"YOUR_API_GATEWAY_REGION\",\n    URL: \"YOUR_API_GATEWAY_URL\"\n  },\n  cognito: {\n    REGION: \"us-east-1\",\n    USER_POOL_ID: \"us-east-1_1FBlI8WBr\",\n    APP_CLIENT_ID: \"38lluthkh3tfkfuaf5370tnt1n\",\n    IDENTITY_POOL_ID: \"YOUR_IDENTITY_POOL_ID\"\n  }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App.js';\nimport Amplify from \"aws-amplify\";\nimport config from \"./config\";\n\n// import '@fortawesome/fontawesome-free/css/all.min.css';\n// import 'bootstrap-css-only/css/bootstrap.min.css';\n// import 'mdbreact/dist/css/mdb.css';\n// import 'mdbreact/dist/css/mdb.css';\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    // region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    // identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\n\n\n//. ==========\n\nReactDOM.render(\n\t<BrowserRouter>\n      <App />\n    </BrowserRouter>,\n  \tdocument.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}