(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t,a){},194:function(e,t,a){e.exports=a(429)},379:function(e,t,a){},394:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},429:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(24),s=a.n(i),o=a(20),l=a(175),c=a(23),u=a.n(c),m=a(46),h=a(12),p=a(13),d=a(15),g=a(14),v=a(16),f=a(5),b=a(34),E=a.n(b),w=a(48),y=a(50),S=(a(378),a(379),a(53)),O=a(432),j=a(434),C=a(183),k=a(184),x=a(57),N=a(442),P=a(440),T=a(435),L=a(439),M=a(438),R=a(436),I=["Action","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Musical","Mystery","Romance","Sci-Fi","Short","Sport","Superhero","Thriller","War","Western"],A=a(176),F=a.n(A),D=a(177),_=a.n(D),W=a(178),U=a.n(W),G=a(430);a(394);function q(e){return"".concat(e.Title)}function J(e,t){var a=t.query,n="".concat(e.Title),i=_()(n,a),s=U()(n,i);return r.a.createElement("span",{className:"suggestion-content"},r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+e.Title,state:{movieInfo:e}}},r.a.createElement(G.a,{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},style:{width:48,height:48},src:e.Poster,fluid:!0})),r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+e.Title,state:{movieInfo:e}}},r.a.createElement("span",{className:"name"},s.map(function(e,t){var a=e.highlight?"highlight":null;return r.a.createElement("span",{className:a,key:t},e.text)}))))}var B=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(g.a)(t).call(this))).onChange=function(t,a){var n=a.newValue;a.method;e.setState({value:n})},e.onSuggestionsFetchRequested=function(t){var a=t.value;t.reason;(function(e,t){var a="https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?",n=t.title,r=t.query,i=t.number,s=t.genre,o=t.start,l=t.end;return a="find_one"===e?a+"type="+e+"&title="+n:"find_many"===e?a+"type="+e+"&query="+r+"&number="+i:a+"type="+e+"&genre="+s+"&start="+o+"&end="+l,fetch(a).then(function(e){return e.json()}).then(function(e){return e},function(e){alert(e)})})("find_many",{query:a,number:5}).then(function(e){return JSON.parse(JSON.parse(e.movie))}).then(function(t){e.setState({suggestions:e.getSuggestions(t)})})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={value:"",suggestions:[]},e.handleClick=e.handleClick.bind(Object(f.a)(Object(f.a)(e))),e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getSuggestions",value:function(e){return e.filter(function(e){return q(e)})}},{key:"handleClick",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.suggestions,n={placeholder:"Type movie name...",value:t,onChange:this.onChange};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{suggestions:a,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:q,renderSuggestion:J,inputProps:n}))}}]),t}(r.a.Component),Y=a(433),K=a(181),H=a(182),z=a(431),V=(a(164),function(e){var t=e.variant,a=e.isLoading,n=e.text,i=e.loadingText,s=e.className,o=void 0===s?"":s,l=Object(K.a)(e,["variant","isLoading","text","loadingText","className"]);return r.a.createElement(H.a,Object.assign({variant:t,className:"LoaderButton ".concat(o)},l),a&&r.a.createElement(z.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),a?i:n)}),Z=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(H.a,{variant:this.props.variant,disabled:this.props.isSending,onClick:this.props.onClick},this.props.isSending?this.props.loadingText+"("+this.props.seconds+")":this.props.text)}}]),t}(r.a.Component);var Q=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isSignup?(e=this.props,r.a.createElement(O.a,{style:{maxWidth:320}},null===e.newUser?r.a.createElement(L.a,{onSubmit:e.onSignupSubmit},r.a.createElement(L.a.Group,{controlId:"email"},r.a.createElement(L.a.Label,null,"Email"),r.a.createElement(L.a.Control,{autoFocus:!0,type:"email",value:e.email,onChange:e.onChange})),r.a.createElement(L.a.Group,{controlId:"password"},r.a.createElement(L.a.Label,null,"Password"),r.a.createElement(L.a.Control,{value:e.password,onChange:e.onChange,type:"password"})),r.a.createElement(L.a.Group,{controlId:"confirmPassword"},r.a.createElement(L.a.Label,null,"Confirm Password"),r.a.createElement(L.a.Control,{value:e.confirmPassword,onChange:e.onChange,type:"password"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(V,{variant:"outline-info",type:"submit",text:"Signup",loadingText:"Signing up\u2026",isLoading:e.isLoading}))):r.a.createElement(L.a,{onSubmit:e.onConfirmationSubmit},r.a.createElement(L.a.Label,null,e.email),r.a.createElement(L.a.Group,{controlId:"confirmationCode"},r.a.createElement(L.a.Label,null,"Confirmation Code"),r.a.createElement(Y.a,{className:"mb-3"},r.a.createElement(L.a.Control,{autoFocus:!0,type:"password",value:e.confirmationCode,onChange:e.onChange}),r.a.createElement(Y.a.Append,null,r.a.createElement(Z,{variant:"outline-secondary",text:"Send Code",onClick:e.onResend,loadingText:"Sending\u2026",isSending:e.isSending,seconds:e.seconds}))),r.a.createElement(L.a.Text,{className:"text-muted"},"Please check your email for the code.")),r.a.createElement("div",{className:"text-center"},r.a.createElement(V,{variant:"outline-info",type:"submit",text:"Verify",loadingText:"Verifying\u2026",isLoading:e.isLoading}))))):this.props.isForgetPassword?function(e){return r.a.createElement(O.a,{style:{maxWidth:320}},r.a.createElement(L.a,{onSubmit:e.onResetPassword},r.a.createElement(L.a.Group,{controlId:"email"},r.a.createElement(L.a.Label,null,"Email"),r.a.createElement(Y.a,{className:"mb-3"},r.a.createElement(L.a.Control,{autoFocus:!0,type:"email",value:e.email,onChange:e.onChange}),r.a.createElement(Y.a.Append,null,r.a.createElement(Z,{variant:"outline-secondary",text:"Send Code",onClick:e.onSendForgetCode,loadingText:"Sending\u2026",isSending:e.isSending,seconds:e.seconds})))),r.a.createElement(L.a.Group,{controlId:"password"},r.a.createElement(L.a.Label,null,"New Password"),r.a.createElement(L.a.Control,{value:e.password,onChange:e.onChange,type:"password"})),r.a.createElement(L.a.Group,{controlId:"confirmationCode"},r.a.createElement(L.a.Label,null,"Confirmation Code"),r.a.createElement(L.a.Control,{autoFocus:!0,type:"password",value:e.confirmationCode,onChange:e.onChange}),r.a.createElement(L.a.Text,{className:"text-muted"},"Please check your email for the code.")),r.a.createElement("div",{className:"text-center"},r.a.createElement(V,{variant:"outline-info",type:"submit",text:"Reset",loadingText:"Resetting\u2026",isLoading:e.isLoading}))))}(this.props):function(e){return r.a.createElement(O.a,{style:{maxWidth:320}},r.a.createElement(L.a,{onSubmit:e.onSubmit},r.a.createElement(L.a.Group,{controlId:"email"},r.a.createElement(L.a.Label,null,"Email"),r.a.createElement(L.a.Control,{autoFocus:!0,type:"email",value:e.email,onChange:e.onChange})),r.a.createElement(L.a.Group,{controlId:"password"},r.a.createElement(L.a.Label,null,"Password"),r.a.createElement(L.a.Control,{value:e.password,onChange:e.onChange,type:"password"})),r.a.createElement("div",{className:"text-center"},r.a.createElement(V,{variant:"outline-info",type:"submit",text:"Login",loadingText:"Logging in\u2026",isLoading:e.isLoading}))))}(this.props));var e}}]),t}(r.a.Component);function X(){var e=Object(w.a)([""]);return X=function(){return e},e}var $=function(e){function t(e,a){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(g.a)(t).call(this,e,a))).handleChange=n.handleChange.bind(Object(f.a)(Object(f.a)(n))),n.state={value:""},n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value.toLowerCase().trim()})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.style,n=e["aria-labelledby"],i=this.state.value;return r.a.createElement("div",{style:a,"aria-labelledby":n},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(C.a,{className:"mx-3 my-2 w-auto align-self-center",placeholder:"Type to filter...",onChange:this.handleChange,value:i})),r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(0,6).filter(function(e){return!i||e.props.children.toLowerCase().startsWith(i)}))),r.a.createElement(k.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(6,12).filter(function(e){return!i||e.props.children.toLowerCase().startsWith(i)}))),r.a.createElement(k.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(12,18).filter(function(e){return!i||e.props.children.toLowerCase().startsWith(i)}))),r.a.createElement(k.a,null,r.a.createElement("ul",{className:"list-unstyled"},r.a.Children.toArray(t).slice(18,24).filter(function(e){return!i||e.props.children.toLowerCase().startsWith(i)}))))))}}]),t}(r.a.Component),ee=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a.Menu,{as:$},I.map(function(t,a){return r.a.createElement(x.a.Item,{key:t,eventKey:t,as:o.b,onClick:function(){return e.props.onClick()},to:"/Movie-Website/"+t},t)}))}}]),t}(r.a.Component),te=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(N.a.Item,null,r.a.createElement(N.a.Link,{active:!!this.props.isActive,className:"nav-link",as:o.b,disabled:this.props.disabled,to:this.props.path,onClick:function(){return e.props.onClick()}},this.props.text))}}]),t}(r.a.Component),ae=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={links:[{path:"/Movie-Website/",text:"Home",isActive:"/Movie-Website/"===a.props.location.pathname},{path:"/Movie-Website/Recommend",text:"Recommend",disabled:!0,isActive:"/Movie-Website/Recommend"===a.props.location.pathname},{path:"/Movie-Website/Top",text:"Top Rated",isActive:"/Movie-Website/Top"===a.props.location.pathname},{path:"/Movie-Website/Popular",text:"Popular",disabled:!0,isActive:"/Movie-Website/Popular"===a.props.location.pathname},{path:"/Movie-Website/AdvancedSearch",text:"Search",isActive:"/Movie-Website/AdvancedSearch"===a.props.location.pathname}]},a.handleClick=a.handleClick.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleClick",value:function(e){for(var t=this.state.links.slice(),a=0;a<t.length;a++)t[a].isActive=e===a;this.setState({links:t})}},{key:"render",value:function(){var e=this,t=Object(y.a)(N.a.Link)(X());return r.a.createElement("div",null,r.a.createElement(P.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixed:"top"},r.a.createElement(P.a.Brand,{as:o.b,to:"/Movie-Website/"},"SayYourMovie"),r.a.createElement(P.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(P.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(N.a,{fill:!0,className:"mr-auto",style:{width:"50%"}},this.state.links.map(function(t,a){return r.a.createElement(te,{inline:!0,key:t.text,path:t.path,text:t.text,isActive:t.isActive,disabled:t.disabled,onClick:function(){return e.handleClick(a)}})}),r.a.createElement(N.a.Item,null,r.a.createElement(T.a,{title:"Genre",className:"dropdown full-width",id:"dropdown-menu"},r.a.createElement(ee,{onClick:function(){return e.handleClick(-1)}})))),r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(L.a,{inline:!0},r.a.createElement(B,null))),r.a.createElement(N.a,null,r.a.createElement(P.a.Text,null,r.a.createElement(N.a.Item,null,r.a.createElement("span",{className:"badge badge-pill badge-light"}," Hi "))),this.props.isAuthenticated?r.a.createElement(N.a.Link,{onClick:this.props.onLogout,className:"nav-link text-white"},"Logout"):r.a.createElement(N.a.Link,{onClick:this.props.onShow,className:"nav-link text-white"},"Signin")))),r.a.createElement(M.a,{show:this.props.show,onHide:this.props.onClose},r.a.createElement(M.a.Header,{closeButton:!0},r.a.createElement(M.a.Title,null,this.props.signTitle)),r.a.createElement(M.a.Body,null,r.a.createElement(R.a,{className:"text-center",variant:this.props.alertType,show:this.props.alertShow,onClose:this.props.onCloseAlert,dismissible:!0},this.props.alertMessage),r.a.createElement(Q,{username:this.props.username,email:this.props.email,password:this.props.password,newUser:this.props.newUser,confirmPassword:this.props.confirmPassword,confirmationCode:this.props.confirmationCode,onResend:this.props.onResend,onChange:this.props.onChange,onSubmit:this.props.onSubmit,onSignupSubmit:this.props.onSignupSubmit,onConfirmationSubmit:this.props.onConfirmationSubmit,onSendForgetCode:this.props.onSendForgetCode,onResetPassword:this.props.onResetPassword,isAuthenticated:this.props.isAuthenticated,isSignup:this.props.isSignup,isForgetPassword:this.props.isForgetPassword,isLoading:this.props.isLoading,isSending:this.props.isSending,seconds:this.props.seconds}),r.a.createElement(O.a,{fluid:!0},this.props.isSignup?r.a.createElement(j.a,null,r.a.createElement(k.a,{md:{offset:7}},r.a.createElement(t,{onClick:this.props.handleSign,style:{color:"#006699"}},this.props.signStatement))):this.props.isForgetPassword?r.a.createElement(j.a,null,r.a.createElement(k.a,{md:5},r.a.createElement(t,{style:{color:"#006699"},onClick:this.props.handleSign},"Back"))):r.a.createElement(j.a,null,r.a.createElement(k.a,{md:7},r.a.createElement(t,{onClick:this.props.handleSign,style:{color:"#006699"}},this.props.signStatement)),r.a.createElement(k.a,{md:5},r.a.createElement(t,{style:{color:"#006699"},onClick:this.props.handleForget},"Forget Password?")))))))}}]),t}(r.a.Component),ne=Object(S.e)(ae),re=a(441),ie=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(re.a,{interval:3e3,className:"PopSliderCarousel"},r.a.createElement(re.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto",maxWidth:"100%",maxHeight:"50%",display:"block"},src:"https://ws3.sinaimg.cn/large/006tKfTcly1g1bzxnru3zj30vo0akta0.jpg",alt:"First slide"}),r.a.createElement(re.a.Caption,null,r.a.createElement("h3",null,"How to Train Your Dragon"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(re.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto",maxWidth:"100%",display:"block"},src:"https://ws4.sinaimg.cn/large/006tKfTcly1g1c01564jsj30vo0akwky.jpg",alt:"Third slide"}),r.a.createElement(re.a.Caption,null,r.a.createElement("h3",null,"Captain Marvel"),r.a.createElement("p",null,"Praesent commodo cursus magna, vel scelerisque nisl consectetur."))),r.a.createElement(re.a.Item,null,r.a.createElement("img",{style:{width:"100%",height:"auto"},src:"https://ws1.sinaimg.cn/large/006tKfTcly1g1c03v221yj30vo0aktcq.jpg",alt:"Third slide"}),r.a.createElement(re.a.Caption,null,r.a.createElement("h3",null,"Shazam"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))))}}]),t}(r.a.Component),se=(a(425),a(443));a(426);function oe(){var e=Object(w.a)(["\n\t\t\toverflow: hidden;\n\t\t\t  display: -webkit-box;\n\t\t\t  -webkit-line-clamp: 1;\n\t\t\t  -webkit-box-orient: vertical;\n\t\t"]);return oe=function(){return e},e}var le=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=y.a.figcaption(oe());return r.a.createElement(k.a,null,r.a.createElement("figure",{className:"figure"},r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+this.props.movie.Title,state:{movieInfo:this.props.movie}}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},style:{width:180,height:200},src:this.props.movie.Poster,alt:""})),r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+this.props.movie.Title,state:{movieInfo:this.props.movie}}},r.a.createElement(e,{className:"figure-caption text-right"},this.props.movie.Title))))}}]),t}(r.a.Component),ce=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,this.props.movies.map(function(e,t){return r.a.createElement(le,{key:e.Title,movie:e})}))}}]),t}(r.a.Component),ue=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(re.a,{indicators:!1,interval:999999},r.a.createElement(re.a.Item,null,r.a.createElement(ce,{movies:this.props.movies.slice(0,5)})),r.a.createElement(re.a.Item,null,r.a.createElement(ce,{movies:this.props.movies.slice(5,10)})))}}]),t}(r.a.Component),me=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(se.a,{bg:"dark",border:"info"},r.a.createElement(se.a.Header,{className:"shadow-lg"},r.a.createElement(P.a.Brand,{as:o.b,to:"/Movie-Website/"+this.props.series},r.a.createElement("h2",{className:"text-white py-2 pr-4 m-0 display-4 font-weight-bold"},this.props.series+" Movies"))),r.a.createElement(se.a.Body,null,r.a.createElement(ue,{movies:this.props.movies})))}}]),t}(r.a.Component),he=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={movies:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;Te(10).then(function(t){console.log(JSON.parse(JSON.parse(t.movie))),e.setState({movies:JSON.parse(JSON.parse(t.movie))})})}},{key:"render",value:function(){return 0===this.state.movies.length?null:r.a.createElement(O.a,null,r.a.createElement(j.a,{key:"Top Rated Movies",className:"shadow-lg",style:{marginTop:10}},r.a.createElement(me,{series:"Top",movies:this.state.movies})))}}]),t}(r.a.Component),pe=a(56),de="LEFT",ge="RIGHT",ve=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},fe=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),i={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},function(){return n(i)})},a.handleClick=function(e,t){t.preventDefault(),a.gotoPage(e)},a.handleMoveLeft=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(e){e.preventDefault(),a.gotoPage(a.state.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.state.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var i=[],s=t-n,o=t+n,l=e-1,c=s>2?s:2,u=o<l?o:l,m=r-(i=ve(c,u)).length-1,h=c>2,p=u<l,d=de,g=ge;if(h&&!p){var v=ve(c-m,c-1);i=[d].concat(Object(pe.a)(v),Object(pe.a)(i))}else if(!h&&p){var f=ve(u+1,u+m);i=[].concat(Object(pe.a)(i),Object(pe.a)(f),[g])}else h&&p&&(i=[d].concat(Object(pe.a)(i),[g]));return[1].concat(Object(pe.a)(i),[e])}return ve(1,e)};var n=e.totalRecords,r=void 0===n?null:n,i=e.pageLimit,s=void 0===i?30:i,o=e.pageNeighbours,l=void 0===o?0:o;return a.pageLimit="number"===typeof s?s:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof l?Math.max(0,Math.min(l,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a.state={currentPage:1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.totalRecords;t!==e.totalRecords&&(this.totalRecords=t,this.totalPages=Math.ceil(this.totalRecords/this.pageLimit),this.setState({currentPage:1}))}},{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.state.currentPage,a=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},a.map(function(a,n){return a===de?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:" ","aria-label":"Previous",onClick:e.handleMoveLeft},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):a===ge?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement("a",{className:"page-link",href:" ","aria-label":"Next",onClick:e.handleMoveRight},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement("li",{key:n,className:"page-item".concat(t===a?" active":"")},r.a.createElement("a",{className:"page-link",href:" ",onClick:function(t){return e.handleClick(a,t)}},a))}))))}}]),t}(n.Component),be=a(437);a(427);function Ee(){var e=Object(w.a)(["\n\t\t\toverflow: hidden;\n\t\t\t  display: -webkit-box;\n\t\t\t  -webkit-line-clamp: 2;\n\t\t\t  -webkit-box-orient: vertical;\n\t\t"]);return Ee=function(){return e},e}function we(){var e=Object(w.a)(["\n\t\t\tbackground-color: rgba(1, 1, 1, 0.71) !important;\n\t\t\tbackground-image: url( "," );\n\t\t\tbackground-blend-mode: color;\n\t\t"]);return we=function(){return e},e}function ye(){var e=Object(w.a)(['\n    \t\t@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,800,700,300);\n\t\t\t@import url(https://fonts.googleapis.com/css?family=Squada+One);\n\t\t\tfont-family:"Comic Sans MS", cursive, sans-serif; \n\t\t']);return ye=function(){return e},e}var Se=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={error:null,isLoaded:!1,items:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"auto"}},r.a.createElement(ie,null)),r.a.createElement(O.a,{style:{marginTop:20}},r.a.createElement(he,null)))}}]),t}(r.a.Component),Oe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).onPageChanged=function(e){var t=e.currentPage,n=e.totalPages,r=(t-1)*e.pageLimit;Le("find_from_to",{genre:a.props.match.params.type,start:r,end:24}).then(function(e){return JSON.parse(JSON.parse(e.movie))}).then(function(e){a.setState({currentMovies:e})}),a.setState({currentPage:t,totalPages:n})},a.state={currentMovies:[],currentPage:null,totalPages:null,count:-1},a.onPageChanged=a.onPageChanged.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.type;a!==e.match.params.type&&Le("find_from_to",{genre:a,start:0,end:24}).then(function(e){var a=Math.ceil(e.count/t.props.pageLimit);t.setState({count:e.count,totalPages:a,currentPage:1,currentMovies:JSON.parse(JSON.parse(e.movie))})})}},{key:"componentDidMount",value:function(){var e=this;Le("find_from_to",{genre:this.props.match.params.type,start:0,end:1}).then(function(t){e.setState({count:t.count})})}},{key:"render",value:function(){if(-1===this.state.count)return null;var e=["text-dark py-2 pr-4 m-0",this.state.currentPage?"border-gray border-right":""].join(" ").trim(),t=Object(y.a)(o.b)(ye());return r.a.createElement("div",{className:"container mb-7"},r.a.createElement("div",{className:"row d-flex flex-row py-5"},r.a.createElement("div",{className:"w-100 px-4 py-5 d-flex flex-row flex-wrap align-items-center justify-content-between"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("h2",{className:e},r.a.createElement("strong",{className:"text-info"},this.state.count)," ",r.a.createElement("strong",{className:"text-secondary"},"Movies")),this.state.currentPage&&r.a.createElement("span",{className:"current-page d-inline-block h-100 pl-4 text-secondary"},"Page ",r.a.createElement("span",{className:"font-weight-bold text-info"},this.state.currentPage)," /"," ",r.a.createElement("span",{className:"font-weight-bold"},this.state.totalPages))),r.a.createElement("div",{className:"d-flex flex-row py-4 align-items-center"},r.a.createElement(fe,{totalRecords:this.state.count,pageLimit:this.props.pageLimit,pageNeighbours:5,onPageChanged:this.onPageChanged})),r.a.createElement(O.a,null,r.a.createElement(se.a,{bg:"dark"},r.a.createElement(se.a.Header,{className:"shadow-lg"},r.a.createElement(P.a.Brand,null,r.a.createElement("h2",{className:"text-white py-2 pr-4 m-0 display-4 font-weight-bold"},this.props.match.params.type+" Movies"))),r.a.createElement(se.a.Body,null,r.a.createElement(j.a,null,this.state.currentMovies.map(function(e,a){return r.a.createElement(k.a,{key:"movie-row"+a,style:{marginTop:10},xs:6,md:3},r.a.createElement(se.a,{className:"shadow-lg bg-dark border-info"},r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+e.Title,state:{movieInfo:e}}},r.a.createElement(G.a,{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},variant:"top",style:{width:350,height:262},src:e.Poster,fluid:!0})),r.a.createElement(se.a.Body,null,r.a.createElement(se.a.Text,null,r.a.createElement(t,{className:"text-white",to:{pathname:"/Movie-Website/movie-page/"+e.Title,state:{movieInfo:e}}},e.Title)))))}))))))))}}]),t}(r.a.Component),je=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={movie:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.movieInfo;Me(t.imdbID).then(function(a){return e.setState({movie:t,poster:"https://image.tmdb.org/t/p/w300"+a[0],backdrop:"https://image.tmdb.org/t/p/original"+a[1]})}).catch(function(a){return e.setState({movie:t,poster:"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg",backdrop:"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"})})}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this;if(this.props.match.params.title!==e.match.params.title){var a=this.props.location.state.movieInfo;Me(a.imdbID).then(function(e){return t.setState({movie:a,poster:"https://image.tmdb.org/t/p/w300"+e[0],backdrop:"https://image.tmdb.org/t/p/original"+e[1]})}).catch(function(e){t.setState({movie:a,poster:"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg",backdrop:"https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"})})}}},{key:"render",value:function(){var e=Object(y.a)(be.a)(we(),this.state.backdrop);return r.a.createElement(r.a.Fragment,null,r.a.createElement(e,{className:"jumbotron text-center"},r.a.createElement(j.a,null,r.a.createElement(k.a,{md:4,offset:1,mx:3,my:3},r.a.createElement("div",{className:"view overlay"},r.a.createElement("img",{src:this.state.poster,className:"img-fluid",alt:""}))),r.a.createElement(k.a,{className:"col-md-7 text-md-left ml-3 mt-3"},r.a.createElement("h1",{style:{color:"white"}},this.state.movie.Title+" ("+this.state.movie.Year+")"),r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},this.state.movie.Genre),r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},"Score: ",this.state.movie.imdbRating)),r.a.createElement(k.a,null,r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},"IMBD Vote: ",this.state.movie.imdbVotes)),r.a.createElement(k.a,null,r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},"Runtime: ",this.state.movie.Runtime)),r.a.createElement(k.a,null,r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},"Language: ",this.state.movie.Language))),r.a.createElement("h2",{style:{color:"white"}},"Overview"),r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},this.state.movie.Plot),r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement("h2",{style:{color:"white"}},"Actors"),r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},this.state.movie.Actors)),r.a.createElement(k.a,null,r.a.createElement("h2",{style:{color:"white"}},"Director"),r.a.createElement("p",{style:{color:"white"},className:"font-weight-normal"},this.state.movie.Director)))))))}}]),t}(r.a.Component),Ce=y.a.p(Ee());function ke(e){return r.a.createElement(se.a,{bg:"dark",border:"info",className:"shadow-lg",style:{marginTop:10}},r.a.createElement(se.a.Body,null,r.a.createElement(j.a,{className:"text-white"},r.a.createElement(k.a,{md:4},r.a.createElement(j.a,null,r.a.createElement(k.a,{md:1},r.a.createElement("p",null," ",e.order," ")),r.a.createElement(k.a,{md:2},r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+e.movie.Title,state:{movieInfo:e.movie}}},r.a.createElement("img",{onError:function(e){e.target.onerror=null,e.target.src="https://ws3.sinaimg.cn/large/006tKfTcly1g1lmq3s0v2j30dw0dw74h.jpg"},style:{width:250,height:200},src:e.movie.Poster,alt:""}))))),r.a.createElement(k.a,{md:8},r.a.createElement(j.a,null,r.a.createElement(k.a,{md:8},r.a.createElement(o.b,{to:{pathname:"/Movie-Website/movie-page/"+e.movie.Title,state:{movieInfo:e.movie}}},r.a.createElement("h2",{style:{color:"white"}},e.movie.Title+" ("+e.movie.Year+")"))),r.a.createElement(k.a,{md:3},r.a.createElement("h2",{style:{color:"white"}},"Score: "+e.movie.imdbRating))),r.a.createElement(j.a,null,r.a.createElement(k.a,{md:5},r.a.createElement("p",null," ","Genre: "+e.movie.Genre)),r.a.createElement(k.a,{md:3},r.a.createElement("p",{style:{color:"white"}},"Runtime: "+e.movie.Runtime)),r.a.createElement(k.a,{md:4},r.a.createElement("p",{style:{color:"white"}},"Language: "+e.movie.Language))),r.a.createElement(j.a,null,r.a.createElement(k.a,null,r.a.createElement("h3",{style:{color:"white"}},"Actors"),r.a.createElement(Ce,null," ",e.movie.Actors," ")),r.a.createElement(k.a,{md:7},r.a.createElement("h3",{style:{color:"white"}},"Overview"),r.a.createElement(Ce,null," ",e.movie.Plot," ")))))))}var xe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={movies:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;Te(10).then(function(t){return e.setState({movies:JSON.parse(JSON.parse(t.movie))})})}},{key:"render",value:function(){return 0===this.state.movies.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{style:{marginTop:150}},this.state.movies.map(function(e,t){return r.a.createElement(ke,{key:"top-"+t,movie:e,order:t+1})})))}}]),t}(r.a.Component),Ne=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={text:"",movies:[],isLoading:!1,resultState:"No Result..."},a.handleClick=a.handleClick.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleClick",value:function(e){var t,a=this;this.setState({isLoading:!0,resultState:"Searching..."}),e.preventDefault(),(t={text:this.state.text},console.log(t),fetch("https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/advanced",{method:"post",body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){return console.log(e.count),e})).then(function(e){return a.setState({movies:JSON.parse(e.movies)})}).then(function(){a.setState({isLoading:!1,resultState:"No Result..."})})}},{key:"handleChange",value:function(e){this.setState({text:e.target.value})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(L.a,{className:"text-center"},r.a.createElement(L.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(L.a.Label,null,"Example textarea"),r.a.createElement(L.a.Control,{as:"textarea",rows:"3",onChange:this.handleChange,value:this.state.text})),r.a.createElement(V,{variant:"outline-info",type:"submit",text:"Search",loadingText:"Searching\u2026",isLoading:this.state.isLoading,onClick:this.handleClick})),r.a.createElement(j.a,null,r.a.createElement("h2",{style:{color:"white"}},"Results:"),r.a.createElement(O.a,null,0!==this.state.movies.length?this.state.movies.map(function(e,t){return r.a.createElement(ke,{key:"top-"+t,movie:e,order:t+1})}):r.a.createElement("h3",{style:{color:"white"},className:"text-center"},this.state.resultState)))))}}]),t}(r.a.Component),Pe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page1"))};function Te(e){return fetch("https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?type=topRated&num="+e+"&minVote=20000").then(function(e){return e.json()}).then(function(e){return e},function(e){alert(e)})}function Le(e,t){var a="https://9db5che6y2.execute-api.us-east-1.amazonaws.com/Prod/retrieveMovies?",n=t.title,r=t.text,i=t.genre,s=t.start,o=t.end;return a="find_one"===e?a+"type="+e+"&title="+n:"advanced"===e?a+"type="+e+"&text="+r:a+"type="+e+"&genre="+i+"&start="+s+"&end="+o,fetch(a).then(function(e){return e.json()}).then(function(e){return e},function(e){alert(e)})}function Me(e){return fetch("https://api.themoviedb.org/3/find/"+e+"?api_key=5256f55becfcbae4f52f802e2173adcb&language=en-US&external_source=imdb_id").then(function(e){return e.json()}).then(function(e){return e.movie_results}).then(function(e){return[e[0].poster_path,e[0].backdrop_path]}).catch(function(e){})}var Re=Se,Ie=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{style:{marginTop:50}},r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/Movie-Website/",component:Re}),r.a.createElement(S.a,{path:"/Movie-Website/Recommend",component:Pe}),r.a.createElement(S.a,{path:"/Movie-Website/movie-page/:title",render:function(e){return r.a.createElement(je,e)}}),r.a.createElement(S.a,{path:"/Movie-Website/Top",component:xe}),r.a.createElement(S.a,{path:"/Movie-Website/Popular",component:Pe}),r.a.createElement(S.a,{path:"/Movie-Website/AdvancedSearch",component:Ne}),r.a.createElement(S.a,{path:"/Movie-Website/:type",render:function(e){return r.a.createElement(Oe,Object.assign({pageLimit:24},e))}})))}}]),t}(r.a.Component),Ae=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(g.a)(t).call(this,e))).state={alertType:"warning",alertShow:!1,alertMessage:"",isForgetPassword:!1,isSignup:!1,signTitle:"Sign in",signStatement:"New to SayYourMovie? Join us!",show:!1,username:"",email:"",password:"",confirmPassword:"",confirmationCode:"",newUser:null,isAuthenticated:!1,isAuthenticating:!0,isLoading:!1,isSending:!1,seconds:30},a.handleSendForgetCode=a.handleSendForgetCode.bind(Object(f.a)(Object(f.a)(a))),a.handleForget=a.handleForget.bind(Object(f.a)(Object(f.a)(a))),a.countDown=a.countDown.bind(Object(f.a)(Object(f.a)(a))),a.handleResetPassword=a.handleResetPassword.bind(Object(f.a)(Object(f.a)(a))),a.handleCloseAlert=a.handleCloseAlert.bind(Object(f.a)(Object(f.a)(a))),a.handleSign=a.handleSign.bind(Object(f.a)(Object(f.a)(a))),a.handleShow=a.handleShow.bind(Object(f.a)(Object(f.a)(a))),a.handleClose=a.handleClose.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleLogout=a.handleLogout.bind(Object(f.a)(Object(f.a)(a))),a.handleResend=a.handleResend.bind(Object(f.a)(Object(f.a)(a))),a.handleSignupSubmit=a.handleSignupSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleConfirmationSubmit=a.handleConfirmationSubmit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Auth.currentSession();case 3:this.setState({isAuthenticated:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:this.setState({isAuthenticating:!1});case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"countDown",value:function(){var e=this;this.state.seconds>0?(this.setState({seconds:this.state.seconds-1}),setTimeout(function(){return e.countDown()},1e3)):this.setState({isSending:!1,seconds:30})}},{key:"handleCloseAlert",value:function(){this.setState({alertShow:!1})}},{key:"handleForget",value:function(){this.setState({isForgetPassword:!0,signTitle:"Reset Password"})}},{key:"handleSign",value:function(){if(this.state.isSignup)this.setState({isSignup:!1,signTitle:"Sign in",isForgetPassword:!1,signStatement:"New to SayYourMovie? Join us!"});else{if(this.state.isForgetPassword)return void this.setState({isForgetPassword:!1,isSignup:!1,signTitle:"Sign in",signStatement:"New to SayYourMovie? Join us!"});this.setState({isSignup:!0,signTitle:"Sign up",newUser:null,signStatement:"Already in? Sign in!"})}}},{key:"validateSignupForm",value:function(){return this.state.email.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"validateSigninForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"validateConfirmationForm",value:function(){return this.state.confirmationCode.length>0}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.id,e.target.value))}},{key:"handleResend",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isSending:!0}),this.countDown();try{b.Auth.resendSignUp(this.state.email)}catch(t){alert(t.message)}case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Auth.signOut();case 2:this.setState({isAuthenticated:!1,isLoading:!1,isSignup:!1,newUser:null,signTitle:"Sign in",signStatement:"New to SayYourMovie? Join us!"});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSignupSubmit",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({isLoading:!0}),this.validateSignupForm()){e.next=6;break}return this.setState({isLoading:!1}),this.setState({alertShow:!0,alertMessage:"Incorrect input.",alertType:"warning"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,b.Auth.signUp({username:this.state.email,password:this.state.password});case 9:a=e.sent,this.setState({newUser:a}),this.setState({isSending:!0}),this.countDown(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),"UsernameExistsException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"An account with the given email already exists.",alertType:"warning"}):alert("Something wrong...");case 18:this.setState({isLoading:!1});case 19:case"end":return e.stop()}},e,this,[[6,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleConfirmationSubmit",value:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({isLoading:!0}),this.validateConfirmationForm()){e.next=6;break}return this.setState({isLoading:!1}),this.setState({alertShow:!0,alertMessage:"Incorrect input.",alertType:"warning"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,b.Auth.confirmSignUp(this.state.email,this.state.confirmationCode);case 9:return e.next=11,b.Auth.signIn(this.state.email,this.state.password);case 11:this.setState({isAuthenticated:!0,show:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(6),"CodeMismatchException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"Invalid verification code provided, please try again.",alertType:"warning"}):alert("Something wrong..."),this.setState({isLoading:!1});case 18:case"end":return e.stop()}},e,this,[[6,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSendForgetCode",value:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({isSending:!0}),this.countDown(),""!==this.state.email){e.next=6;break}return this.setState({alertShow:!0,alertMessage:"Email cannot be empty.",alertType:"warning"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,b.Auth.forgotPassword(this.state.email);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),"CodeMismatchException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"Invalid verification code provided, please try again.",alertType:"warning"}):(alert("Something wrong..."),console.log(e.t0.message));case 14:case"end":return e.stop()}},e,this,[[6,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleResetPassword",value:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({isLoading:!0}),e.prev=2,e.next=5,b.Auth.forgotPasswordSubmit(this.state.email,this.state.confirmationCode,this.state.password);case 5:this.setState({isForgetPassword:!1,alertMessage:"Successfully reset password, you can login now.",alertType:"success",alertShow:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),"CodeMismatchException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"Invalid verification code provided, please try again.",alertType:"warning"}):alert("Something wrong...");case 11:this.setState({isLoading:!1});case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({isLoading:!0}),this.validateSigninForm()){e.next=6;break}return this.setState({isLoading:!1}),this.setState({alertShow:!0,alertMessage:"Incorrect input.",alertType:"warning"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,b.Auth.signIn(this.state.email,this.state.password);case 9:this.setState({isAuthenticated:!0,show:!1}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),"UserNotConfirmedException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"The email has not been confirmed yet.",alertType:"warning",isSignup:!0,newUser:this.state.email,signTitle:"Please verify your account",signStatement:"Already in? Sign in!"}):"NotAuthorizedException"===e.t0.name?this.setState({alertShow:!0,alertMessage:"Incorrect email or password.",alertType:"warning"}):alert("Something wrong..."),this.setState({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[6,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne,{alertType:this.state.alertType,alertMessage:this.state.alertMessage,alertShow:this.state.alertShow,isForgetPassword:this.state.isForgetPassword,signTitle:this.state.signTitle,isSignup:this.state.isSignup,signStatement:this.state.signStatement,handleSign:this.handleSign,handleForget:this.handleForget,isLoading:this.state.isLoading,isSending:this.state.isSending,seconds:this.state.seconds,show:this.state.show,onCloseAlert:this.handleCloseAlert,onShow:this.handleShow,onClose:this.handleClose,onSubmit:this.handleSubmit,onSignupSubmit:this.handleSignupSubmit,onConfirmationSubmit:this.handleConfirmationSubmit,onResend:this.handleResend,onSendForgetCode:this.handleSendForgetCode,onResetPassword:this.handleResetPassword,onChange:this.handleChange,onLogout:this.handleLogout,newUser:this.state.newUser,confirmPassword:this.state.confirmPassword,confirmationCode:this.state.confirmationCode,email:this.state.email,password:this.state.password,isAuthenticated:this.state.isAuthenticated}),r.a.createElement(Ie,{email:this.state.email,password:this.state.password}))}}]),t}(r.a.Component),Fe={REGION:"YOUR_S3_UPLOADS_BUCKET_REGION",BUCKET:"YOUR_S3_UPLOADS_BUCKET_NAME"},De={REGION:"YOUR_API_GATEWAY_REGION",URL:"YOUR_API_GATEWAY_URL"},_e={REGION:"us-east-1",USER_POOL_ID:"us-east-1_smZSdp7go",APP_CLIENT_ID:"5ml4fhj6ah96u8l7gln8pddk87",IDENTITY_POOL_ID:"YOUR_IDENTITY_POOL_ID"};E.a.configure({Auth:{mandatorySignIn:!0,userPoolId:_e.USER_POOL_ID,userPoolWebClientId:_e.APP_CLIENT_ID},Storage:{region:Fe.REGION,bucket:Fe.BUCKET,identityPoolId:_e.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:De.URL,region:De.REGION}]}}),s.a.render(r.a.createElement(o.a,null,r.a.createElement(Ae,null)),document.getElementById("root"))},91:function(e,t){}},[[194,1,2]]]);
//# sourceMappingURL=main.8b87d9f1.chunk.js.map